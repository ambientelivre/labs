(function(b,c){var $=b.jQuery||b.Cowboy||(b.Cowboy={}),a;$.throttle=a=function(e,f,j,i){var h,d=0;if(typeof f!=="boolean"){i=j;j=f;f=c}function g(){var o=this,m=+new Date()-d,n=arguments;function l(){d=+new Date();j.apply(o,n)}function k(){h=c}if(i&&!h){l()}h&&clearTimeout(h);if(i===c&&m>e){l()}else{if(f!==!0){h=setTimeout(i?k:l,i===c?e-m:e)}}}if($.guid){g.guid=j.guid=j.guid||$.guid++}return g};$.debounce=function(d,e,f){return f===c?a(d,e,!1):a(d,f,e!==!1)}})(this);(function($){$(function(){var $megamenu=$('.megamenu'),$toggleMobile=$('.mobile-navigation #toggle-button'),$mobileNavWrapper=$('.megamenu-navigation'),$megamenuMobile=$mobileNavWrapper.find('.megamenu-mobile'),$mobileItems=$megamenuMobile.find(' > .menu-item.has-submenu'),$mobileBackdrop=$mobileNavWrapper.find('#megamenu-mobile-backdrop'),$items=$('.megamenu .menu-item[data-menu^="menu"]'),$closeButtons=$megamenu.find('.close-menu'),$currentMenuOpen=null,$currentLinkOpen=null,$currentMobileMenuOpen=null,$currentMobileLinkOpen=null,preventClick=!1,$backdrop=$megamenu.find('#megamenu-backdrop'),$window=$(window),DEFAULT_DURATION=200;var setMenuState=function(newState,$link,$menu,callback,animationDuration,isMobile){if($link.attr('aria-expanded')===newState+''){preventClick=!1;return}
$link.attr('aria-expanded',newState)[newState?'addClass':'removeClass']('active');$menu.find('.close-menu').attr('aria-expanded',newState);if(isMobile){if(newState){$currentMobileMenuOpen=$menu;$currentMobileLinkOpen=$link}else{$currentMobileMenuOpen=null;$currentMobileLinkOpen=null}}else if(newState){$currentMenuOpen=$menu;$currentLinkOpen=$link;$megamenu.addClass('active')}else{$currentMenuOpen=null;$currentLinkOpen=null;$megamenu.removeClass('active')}
var duration=animationDuration>=0?animationDuration:DEFAULT_DURATION;$menu[newState?'slideDown':'slideUp'](duration,function(){$menu[newState?'addClass':'removeClass']('active');if(callback&&typeof callback==='function'){callback()}else{preventClick=!1}})};var closeCurrentMenu=function(callback,animationDuration,isMobile){var duration=animationDuration>=0?animationDuration:0;if(isMobile){if($currentMobileMenuOpen){setMenuState(!1,$currentMobileLinkOpen,$currentMobileMenuOpen,callback,duration,isMobile)}else if(callback&&typeof callback==='function'){callback()}
return}
if($currentMenuOpen){setMenuState(!1,$currentLinkOpen,$currentMenuOpen,callback,duration)}else if(callback&&typeof callback==='function'){callback()}};var toggleMenu=function($link,$menu,isMobile){var isActive=$menu.hasClass('active'),duration=(!isMobile&&$currentMenuOpen)||(isMobile&&$currentMobileMenuOpen)?0:undefined;if(!isActive){closeCurrentMenu(function(){setMenuState(!isActive,$link,$menu,undefined,duration,isMobile)},undefined,isMobile)}else{setMenuState(!isActive,$link,$menu,undefined,undefined,isMobile)}};var onResize=function(){if($window.width()<=1082){closeCurrentMenu()}else{closeCurrentMenu(undefined,undefined,!0);$mobileNavWrapper.removeClass('active');$toggleMobile.removeClass('active')}};$backdrop.click(function(e){e.stopPropagation();closeCurrentMenu(undefined,DEFAULT_DURATION)});$items.click(function(e){e.stopPropagation();if(preventClick){return}
preventClick=!0;var menu=$(this).data('menu');var $menu=$megamenu.find('#'+menu);toggleMenu($(this),$menu)});$items.on('keypress',function(e){if(e.which==13){var menu=$(this).data('menu');var $menu=$megamenu.find('#'+menu);toggleMenu($(this),$menu)}});$closeButtons.click(function(){closeCurrentMenu(undefined,DEFAULT_DURATION)});$closeButtons.on('keypress',function(e){if(e.which==13){closeCurrentMenu(undefined,DEFAULT_DURATION)}});$window.resize($.debounce(250,onResize));$toggleMobile.click(function(){if($mobileNavWrapper.hasClass('active')){$mobileNavWrapper.removeClass('active');$toggleMobile.removeClass('active');$('body').css('overflow','auto')}else{$mobileNavWrapper.addClass('active');$toggleMobile.addClass('active');$('body').css('overflow','hidden')}});$parentItems=$('#menu-megamenu').find(' > li > a');$parentItemsLi=$('#menu-megamenu').find(' > li');$parentItems.focus(function(){$('#menu-megamenu .sub-menu').removeClass('active');$(this).next('.sub-menu').addClass('active')});$parentItems.mousedown(function(e){if($(this).attr('href')=='#'){e.preventDefault();e.stopPropagation()}});$parentItems.click(function(){$subMenu=$(this).next('.sub-menu');$otherSubmenus=$parentItems.next('.sub-menu');if($subMenu.hasClass('active')){$subMenu.removeClass('active');$(this).removeClass('active')}else{$otherSubmenus.removeClass('active');$parentItems.removeClass('active');$subMenu.addClass('active');$(this).addClass('active')}});let minWidth=$(window).width();$(window).on('load resize',function(){minWidth=$(window).width()});let hoverTimer;$parentItemsLi.hover(function(){if(minWidth>1100){clearTimeout(hoverTimer);$parentItemsLi.find('> a').removeClass('active');$parentItemsLi.find('> a').next('.sub-menu').removeClass('active');$(this).find('> a').addClass('active');$(this).find('> a').next('.sub-menu').addClass('active')}},function(){if(minWidth>1100){$this=$(this);hoverTimer=setTimeout(function(){$this.find('> a').removeClass('active');$this.find('> a').next('.sub-menu').removeClass('active')},500)}});$mobileItems.click(function(e){e.stopPropagation();if(preventClick){return}
preventClick=!0;var $el=$(e.currentTarget);toggleMenu($el,$el.next('.megamenu-submenu'),!0)});$mobileBackdrop.click(function(e){e.stopPropagation();$mobileNavWrapper.removeClass('active');$toggleMobile.removeClass('active');closeCurrentMenu(undefined,0,!0)})})})(jQuery)