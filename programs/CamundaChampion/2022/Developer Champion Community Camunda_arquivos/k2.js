var Na=Object.defineProperty,Ca=Object.defineProperties;var Da=Object.getOwnPropertyDescriptors;var en=Object.getOwnPropertySymbols;var Fa=Object.prototype.hasOwnProperty,ka=Object.prototype.propertyIsEnumerable;var rr=(j,P,F)=>P in j?Na(j,P,{enumerable:!0,configurable:!0,writable:!0,value:F}):j[P]=F,nr=(j,P)=>{for(var F in P||(P={}))Fa.call(P,F)&&rr(j,F,P[F]);if(en)for(var F of en(P))ka.call(P,F)&&rr(j,F,P[F]);return j},tn=(j,P)=>Ca(j,Da(P));var A=(j,P,F)=>(rr(j,typeof P!="symbol"?P+"":P,F),F);(function(){"use strict";const j=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))n(o);new MutationObserver(o=>{for(const i of o)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function r(o){const i={};return o.integrity&&(i.integrity=o.integrity),o.referrerpolicy&&(i.referrerPolicy=o.referrerpolicy),o.crossorigin==="use-credentials"?i.credentials="include":o.crossorigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(o){if(o.ep)return;o.ep=!0;const i=r(o);fetch(o.href,i)}};var P=function(){return P=Object.assign||function(t){for(var r,n=1,o=arguments.length;n<o;n++){r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},P.apply(this,arguments)};function F(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(r[n[o]]=e[n[o]]);return r}function rn(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;for(var n=Array(e),o=0,t=0;t<r;t++)for(var i=arguments[t],a=0,s=i.length;a<s;a++,o++)n[o]=i[a];return n}function nn(e,t){return function(r,n){return Object.prototype.hasOwnProperty.call(r,n)}(e,t)?e[t]:void 0}function fe(e){for(var t="",r=0;r<e.length;++r)if(r>0){var n=e[r].toLowerCase();n!==e[r]?t+=" "+n:t+=e[r]}else t+=e[r].toUpperCase();return t}var on={default:"endpoint"},an={default:"tlsEndpoint"},sn=fe("WrongRegion"),un=fe("SubscriptionNotActive"),cn=fe("UnsupportedVersion"),ln=fe("InstallationMethodRestricted"),fn=fe("HostnameRestricted"),pn=fe("IntegrationFailed");function hn(e,t){var r=[];return function(n,o){var i=5,a=(h=n,v=rn(h),{current:function(){return v[0]},postpone:function(){var _=v.shift();_!==void 0&&v.push(_)},exclude:function(){v.shift()}}),s=(u=100,y=3e3,d=0,function(){return Math.random()*Math.min(y,u*Math.pow(2,d++))}),c=a.current(),u,y,d,h,v;if(c===void 0)return Promise.reject(new TypeError("The list of script URL patterns is empty"));var g=function(_,E){return o(_).catch(function(M){if(E+1>=i)throw M;(function(U){if(!(U instanceof Error))return!1;var H=U.message;return H==="Blocked by CSP"||H==="9319"})(M)?a.exclude():a.postpone();var b,W=a.current();if(W===void 0)throw M;return(b=s(),new Promise(function(U){return setTimeout(U,b)})).then(function(){return g(W,E+1)})})};return g(c,0)}(e,function(n){var o=new Date,i=function(){return r.push({url:n,startedAt:o,finishedAt:new Date})},a=t(n);return a.then(i,i),a}).then(function(n){return[n,{attempts:r}]})}var ir="https://fpnpmcdn.net/v<version>/<apiKey>/loader_v<loaderVersion>.js",yn=ir,nt="Failed to load the JS script of the agent";function dn(e){var t;e.scriptUrlPattern;var r=e.token,n=e.apiKey,o=n===void 0?r:n,i=F(e,["scriptUrlPattern","token","apiKey"]),a=(t=nn(e,"scriptUrlPattern"))!==null&&t!==void 0?t:ir;return Promise.resolve().then(function(){if(!o||typeof o!="string")throw new Error("API key required");return hn(function(s,c){return(Array.isArray(s)?s:[s]).map(function(u){return function(y,d){var h=encodeURIComponent;return y.replace(/<[^<>]+>/g,function(v){return v==="<version>"?"3":v==="<apiKey>"?h(d):v==="<loaderVersion>"?h("3.8.1"):v})}(String(u),c)})}(a,o),vn).catch(gn)}).then(function(s){var c=s[0],u=s[1];return c.load(P(P({},i),{ldi:u}))})}function vn(e){return function(t,r,n,o){var i,a=document,s="securitypolicyviolation",c=function(y){var d=new URL(t,location.href),h=y.blockedURI;h!==d.href&&h!==d.protocol.slice(0,-1)&&h!==d.origin||(i=y,u())};a.addEventListener(s,c);var u=function(){return a.removeEventListener(s,c)};return o==null||o.then(u,u),Promise.resolve().then(r).then(function(y){return u(),y},function(y){return new Promise(function(d){return setTimeout(d)}).then(function(){if(u(),i)return n(i);throw y})})}(e,function(){return function(t){return new Promise(function(r,n){var o=document.createElement("script"),i=function(){var s;return(s=o.parentNode)===null||s===void 0?void 0:s.removeChild(o)},a=document.head||document.getElementsByTagName("head")[0];o.onload=function(){i(),r()},o.onerror=function(){i(),n(new Error(nt))},o.async=!0,o.src=t,a.appendChild(o)})}(e)},function(){throw new Error("Blocked by CSP")}).then(mn)}function mn(){var e=window,t="__fpjs_p_l_b",r=e[t];if(function(n,o){var i,a=(i=Object.getOwnPropertyDescriptor)===null||i===void 0?void 0:i.call(Object,n,o);a!=null&&a.configurable?delete n[o]:a&&!a.writable||(n[o]=void 0)}(e,t),typeof(r==null?void 0:r.load)!="function")throw new Error("9319");return r}function gn(e){throw e instanceof Error&&e.message==="9319"?new Error(nt):e}var bn={load:dn,defaultScriptUrlPattern:yn,ERROR_SCRIPT_LOAD_FAIL:nt,ERROR_API_KEY_EXPIRED:"API key expired",ERROR_API_KEY_INVALID:"API key not found",ERROR_API_KEY_MISSING:"API key required",ERROR_BAD_REQUEST_FORMAT:"Request cannot be parsed",ERROR_BAD_RESPONSE_FORMAT:"Response cannot be parsed",ERROR_CLIENT_TIMEOUT:"Client timeout",ERROR_CSP_BLOCK:"Blocked by CSP",ERROR_FORBIDDEN_ENDPOINT:fn,ERROR_FORBIDDEN_HEADER:"Not available with restricted header",ERROR_FORBIDDEN_ORIGIN:"Not available for this origin",ERROR_GENERAL_SERVER_FAILURE:"Request failed",ERROR_INSTALLATION_METHOD_RESTRICTED:ln,ERROR_INTEGRATION_FAILURE:pn,ERROR_NETWORK_ABORT:"Network request aborted",ERROR_NETWORK_CONNECTION:"Network connection error",ERROR_RATE_LIMIT:"Too many requests, rate limit exceeded",ERROR_SERVER_TIMEOUT:"Request failed to process",ERROR_SUBSCRIPTION_NOT_ACTIVE:un,ERROR_TOKEN_EXPIRED:"API key expired",ERROR_TOKEN_INVALID:"API key not found",ERROR_TOKEN_MISSING:"API key required",ERROR_UNSUPPORTED_VERSION:cn,ERROR_WRONG_REGION:sn,defaultEndpoint:on,defaultTlsEndpoint:an};/*! *****************************************************************************
    Copyright (c) Microsoft Corporation.

    Permission to use, copy, modify, and/or distribute this software for any
    purpose with or without fee is hereby granted.

    THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
    REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
    AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
    INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
    LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
    OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
    PERFORMANCE OF THIS SOFTWARE.
    ***************************************************************************** */var it=function(e,t){return it=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(r[o]=n[o])},it(e,t)};function Te(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");it(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}function wn(e,t,r,n){function o(i){return i instanceof r?i:new r(function(a){a(i)})}return new(r||(r=Promise))(function(i,a){function s(y){try{u(n.next(y))}catch(d){a(d)}}function c(y){try{u(n.throw(y))}catch(d){a(d)}}function u(y){y.done?i(y.value):o(y.value).then(s,c)}u((n=n.apply(e,t||[])).next())})}function or(e,t){var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,o,i,a;return a={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function s(u){return function(y){return c([u,y])}}function c(u){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,o&&(i=u[0]&2?o.return:u[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,u[1])).done)return i;switch(o=0,i&&(u=[u[0]&2,i.value]),u[0]){case 0:case 1:i=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,o=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(i=r.trys,!(i=i.length>0&&i[i.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!i||u[1]>i[0]&&u[1]<i[3])){r.label=u[1];break}if(u[0]===6&&r.label<i[1]){r.label=i[1],i=u;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(u);break}i[2]&&r.ops.pop(),r.trys.pop();continue}u=t.call(e,r)}catch(y){u=[6,y],o=0}finally{n=i=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}function pe(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function he(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),o,i=[],a;try{for(;(t===void 0||t-- >0)&&!(o=n.next()).done;)i.push(o.value)}catch(s){a={error:s}}finally{try{o&&!o.done&&(r=n.return)&&r.call(n)}finally{if(a)throw a.error}}return i}function ye(e,t,r){if(r||arguments.length===2)for(var n=0,o=t.length,i;n<o;n++)(i||!(n in t))&&(i||(i=Array.prototype.slice.call(t,0,n)),i[n]=t[n]);return e.concat(i||Array.prototype.slice.call(t))}function de(e){return this instanceof de?(this.v=e,this):new de(e)}function En(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(e,t||[]),o,i=[];return o={},a("next"),a("throw"),a("return"),o[Symbol.asyncIterator]=function(){return this},o;function a(h){n[h]&&(o[h]=function(v){return new Promise(function(g,_){i.push([h,v,g,_])>1||s(h,v)})})}function s(h,v){try{c(n[h](v))}catch(g){d(i[0][3],g)}}function c(h){h.value instanceof de?Promise.resolve(h.value.v).then(u,y):d(i[0][2],h)}function u(h){s("next",h)}function y(h){s("throw",h)}function d(h,v){h(v),i.shift(),i.length&&s(i[0][0],i[0][1])}}function Sn(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],r;return t?t.call(e):(e=typeof pe=="function"?pe(e):e[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(i){r[i]=e[i]&&function(a){return new Promise(function(s,c){a=e[i](a),o(s,c,a.done,a.value)})}}function o(i,a,s,c){Promise.resolve(c).then(function(u){i({value:u,done:s})},a)}}function I(e){return typeof e=="function"}function ar(e){var t=function(n){Error.call(n),n.stack=new Error().stack},r=e(t);return r.prototype=Object.create(Error.prototype),r.prototype.constructor=r,r}var ot=ar(function(e){return function(r){e(this),this.message=r?r.length+` errors occurred during unsubscription:
`+r.map(function(n,o){return o+1+") "+n.toString()}).join(`
  `):"",this.name="UnsubscriptionError",this.errors=r}});function at(e,t){if(e){var r=e.indexOf(t);0<=r&&e.splice(r,1)}}var Fe=function(){function e(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}return e.prototype.unsubscribe=function(){var t,r,n,o,i;if(!this.closed){this.closed=!0;var a=this._parentage;if(a)if(this._parentage=null,Array.isArray(a))try{for(var s=pe(a),c=s.next();!c.done;c=s.next()){var u=c.value;u.remove(this)}}catch(_){t={error:_}}finally{try{c&&!c.done&&(r=s.return)&&r.call(s)}finally{if(t)throw t.error}}else a.remove(this);var y=this.initialTeardown;if(I(y))try{y()}catch(_){i=_ instanceof ot?_.errors:[_]}var d=this._finalizers;if(d){this._finalizers=null;try{for(var h=pe(d),v=h.next();!v.done;v=h.next()){var g=v.value;try{cr(g)}catch(_){i=i!=null?i:[],_ instanceof ot?i=ye(ye([],he(i)),he(_.errors)):i.push(_)}}}catch(_){n={error:_}}finally{try{v&&!v.done&&(o=h.return)&&o.call(h)}finally{if(n)throw n.error}}}if(i)throw new ot(i)}},e.prototype.add=function(t){var r;if(t&&t!==this)if(this.closed)cr(t);else{if(t instanceof e){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=(r=this._finalizers)!==null&&r!==void 0?r:[]).push(t)}},e.prototype._hasParent=function(t){var r=this._parentage;return r===t||Array.isArray(r)&&r.includes(t)},e.prototype._addParent=function(t){var r=this._parentage;this._parentage=Array.isArray(r)?(r.push(t),r):r?[r,t]:t},e.prototype._removeParent=function(t){var r=this._parentage;r===t?this._parentage=null:Array.isArray(r)&&at(r,t)},e.prototype.remove=function(t){var r=this._finalizers;r&&at(r,t),t instanceof e&&t._removeParent(this)},e.EMPTY=function(){var t=new e;return t.closed=!0,t}(),e}(),sr=Fe.EMPTY;function ur(e){return e instanceof Fe||e&&"closed"in e&&I(e.remove)&&I(e.add)&&I(e.unsubscribe)}function cr(e){I(e)?e():e.unsubscribe()}var ke={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},$e={setTimeout:function(e,t){for(var r=[],n=2;n<arguments.length;n++)r[n-2]=arguments[n];var o=$e.delegate;return o!=null&&o.setTimeout?o.setTimeout.apply(o,ye([e,t],he(r))):setTimeout.apply(void 0,ye([e,t],he(r)))},clearTimeout:function(e){var t=$e.delegate;return((t==null?void 0:t.clearTimeout)||clearTimeout)(e)},delegate:void 0};function lr(e){$e.setTimeout(function(){throw e})}function st(){}var _n=function(){return ut("C",void 0,void 0)}();function On(e){return ut("E",void 0,e)}function Tn(e){return ut("N",e,void 0)}function ut(e,t,r){return{kind:e,value:t,error:r}}var Me=null;function Ue(e){if(ke.useDeprecatedSynchronousErrorHandling){var t=!Me;if(t&&(Me={errorThrown:!1,error:null}),e(),t){var r=Me,n=r.errorThrown,o=r.error;if(Me=null,n)throw o}}else e()}var ct=function(e){Te(t,e);function t(r){var n=e.call(this)||this;return n.isStopped=!1,r?(n.destination=r,ur(r)&&r.add(n)):n.destination=xn,n}return t.create=function(r,n,o){return new ft(r,n,o)},t.prototype.next=function(r){this.isStopped?pt(Tn(r),this):this._next(r)},t.prototype.error=function(r){this.isStopped?pt(On(r),this):(this.isStopped=!0,this._error(r))},t.prototype.complete=function(){this.isStopped?pt(_n,this):(this.isStopped=!0,this._complete())},t.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,e.prototype.unsubscribe.call(this),this.destination=null)},t.prototype._next=function(r){this.destination.next(r)},t.prototype._error=function(r){try{this.destination.error(r)}finally{this.unsubscribe()}},t.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},t}(Fe),An=Function.prototype.bind;function lt(e,t){return An.call(e,t)}var Rn=function(){function e(t){this.partialObserver=t}return e.prototype.next=function(t){var r=this.partialObserver;if(r.next)try{r.next(t)}catch(n){Be(n)}},e.prototype.error=function(t){var r=this.partialObserver;if(r.error)try{r.error(t)}catch(n){Be(n)}else Be(t)},e.prototype.complete=function(){var t=this.partialObserver;if(t.complete)try{t.complete()}catch(r){Be(r)}},e}(),ft=function(e){Te(t,e);function t(r,n,o){var i=e.call(this)||this,a;if(I(r)||!r)a={next:r!=null?r:void 0,error:n!=null?n:void 0,complete:o!=null?o:void 0};else{var s;i&&ke.useDeprecatedNextContext?(s=Object.create(r),s.unsubscribe=function(){return i.unsubscribe()},a={next:r.next&&lt(r.next,s),error:r.error&&lt(r.error,s),complete:r.complete&&lt(r.complete,s)}):a=r}return i.destination=new Rn(a),i}return t}(ct);function Be(e){lr(e)}function Pn(e){throw e}function pt(e,t){var r=ke.onStoppedNotification;r&&$e.setTimeout(function(){return r(e,t)})}var xn={closed:!0,next:st,error:Pn,complete:st},ht=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}();function yt(e){return e}function In(e){return e.length===0?yt:e.length===1?e[0]:function(r){return e.reduce(function(n,o){return o(n)},r)}}var X=function(){function e(t){t&&(this._subscribe=t)}return e.prototype.lift=function(t){var r=new e;return r.source=this,r.operator=t,r},e.prototype.subscribe=function(t,r,n){var o=this,i=Nn(t)?t:new ft(t,r,n);return Ue(function(){var a=o,s=a.operator,c=a.source;i.add(s?s.call(i,c):c?o._subscribe(i):o._trySubscribe(i))}),i},e.prototype._trySubscribe=function(t){try{return this._subscribe(t)}catch(r){t.error(r)}},e.prototype.forEach=function(t,r){var n=this;return r=fr(r),new r(function(o,i){var a=new ft({next:function(s){try{t(s)}catch(c){i(c),a.unsubscribe()}},error:i,complete:o});n.subscribe(a)})},e.prototype._subscribe=function(t){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(t)},e.prototype[ht]=function(){return this},e.prototype.pipe=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return In(t)(this)},e.prototype.toPromise=function(t){var r=this;return t=fr(t),new t(function(n,o){var i;r.subscribe(function(a){return i=a},function(a){return o(a)},function(){return n(i)})})},e.create=function(t){return new e(t)},e}();function fr(e){var t;return(t=e!=null?e:ke.Promise)!==null&&t!==void 0?t:Promise}function Ln(e){return e&&I(e.next)&&I(e.error)&&I(e.complete)}function Nn(e){return e&&e instanceof ct||Ln(e)&&ur(e)}function Cn(e){return I(e==null?void 0:e.lift)}function dt(e){return function(t){if(Cn(t))return t.lift(function(r){try{return e(r,this)}catch(n){this.error(n)}});throw new TypeError("Unable to lift unknown Observable type")}}function qe(e,t,r,n,o){return new Dn(e,t,r,n,o)}var Dn=function(e){Te(t,e);function t(r,n,o,i,a,s){var c=e.call(this,r)||this;return c.onFinalize=a,c.shouldUnsubscribe=s,c._next=n?function(u){try{n(u)}catch(y){r.error(y)}}:e.prototype._next,c._error=i?function(u){try{i(u)}catch(y){r.error(y)}finally{this.unsubscribe()}}:e.prototype._error,c._complete=o?function(){try{o()}catch(u){r.error(u)}finally{this.unsubscribe()}}:e.prototype._complete,c}return t.prototype.unsubscribe=function(){var r;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){var n=this.closed;e.prototype.unsubscribe.call(this),!n&&((r=this.onFinalize)===null||r===void 0||r.call(this))}},t}(ct),Fn=ar(function(e){return function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"}}),vt=function(e){Te(t,e);function t(){var r=e.call(this)||this;return r.closed=!1,r.currentObservers=null,r.observers=[],r.isStopped=!1,r.hasError=!1,r.thrownError=null,r}return t.prototype.lift=function(r){var n=new pr(this,this);return n.operator=r,n},t.prototype._throwIfClosed=function(){if(this.closed)throw new Fn},t.prototype.next=function(r){var n=this;Ue(function(){var o,i;if(n._throwIfClosed(),!n.isStopped){n.currentObservers||(n.currentObservers=Array.from(n.observers));try{for(var a=pe(n.currentObservers),s=a.next();!s.done;s=a.next()){var c=s.value;c.next(r)}}catch(u){o={error:u}}finally{try{s&&!s.done&&(i=a.return)&&i.call(a)}finally{if(o)throw o.error}}}})},t.prototype.error=function(r){var n=this;Ue(function(){if(n._throwIfClosed(),!n.isStopped){n.hasError=n.isStopped=!0,n.thrownError=r;for(var o=n.observers;o.length;)o.shift().error(r)}})},t.prototype.complete=function(){var r=this;Ue(function(){if(r._throwIfClosed(),!r.isStopped){r.isStopped=!0;for(var n=r.observers;n.length;)n.shift().complete()}})},t.prototype.unsubscribe=function(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null},Object.defineProperty(t.prototype,"observed",{get:function(){var r;return((r=this.observers)===null||r===void 0?void 0:r.length)>0},enumerable:!1,configurable:!0}),t.prototype._trySubscribe=function(r){return this._throwIfClosed(),e.prototype._trySubscribe.call(this,r)},t.prototype._subscribe=function(r){return this._throwIfClosed(),this._checkFinalizedStatuses(r),this._innerSubscribe(r)},t.prototype._innerSubscribe=function(r){var n=this,o=this,i=o.hasError,a=o.isStopped,s=o.observers;return i||a?sr:(this.currentObservers=null,s.push(r),new Fe(function(){n.currentObservers=null,at(s,r)}))},t.prototype._checkFinalizedStatuses=function(r){var n=this,o=n.hasError,i=n.thrownError,a=n.isStopped;o?r.error(i):a&&r.complete()},t.prototype.asObservable=function(){var r=new X;return r.source=this,r},t.create=function(r,n){return new pr(r,n)},t}(X),pr=function(e){Te(t,e);function t(r,n){var o=e.call(this)||this;return o.destination=r,o.source=n,o}return t.prototype.next=function(r){var n,o;(o=(n=this.destination)===null||n===void 0?void 0:n.next)===null||o===void 0||o.call(n,r)},t.prototype.error=function(r){var n,o;(o=(n=this.destination)===null||n===void 0?void 0:n.error)===null||o===void 0||o.call(n,r)},t.prototype.complete=function(){var r,n;(n=(r=this.destination)===null||r===void 0?void 0:r.complete)===null||n===void 0||n.call(r)},t.prototype._subscribe=function(r){var n,o;return(o=(n=this.source)===null||n===void 0?void 0:n.subscribe(r))!==null&&o!==void 0?o:sr},t}(vt);function kn(e){return e[e.length-1]}function $n(e){return I(kn(e))?e.pop():void 0}var Mn=function(e){return e&&typeof e.length=="number"&&typeof e!="function"};function Un(e){return I(e==null?void 0:e.then)}function Bn(e){return I(e[ht])}function qn(e){return Symbol.asyncIterator&&I(e==null?void 0:e[Symbol.asyncIterator])}function jn(e){return new TypeError("You provided "+(e!==null&&typeof e=="object"?"an invalid object":"'"+e+"'")+" where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.")}function Hn(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var Gn=Hn();function Wn(e){return I(e==null?void 0:e[Gn])}function Kn(e){return En(this,arguments,function(){var r,n,o,i;return or(this,function(a){switch(a.label){case 0:r=e.getReader(),a.label=1;case 1:a.trys.push([1,,9,10]),a.label=2;case 2:return[4,de(r.read())];case 3:return n=a.sent(),o=n.value,i=n.done,i?[4,de(void 0)]:[3,5];case 4:return[2,a.sent()];case 5:return[4,de(o)];case 6:return[4,a.sent()];case 7:return a.sent(),[3,2];case 8:return[3,10];case 9:return r.releaseLock(),[7];case 10:return[2]}})})}function zn(e){return I(e==null?void 0:e.getReader)}function Vn(e){if(e instanceof X)return e;if(e!=null){if(Bn(e))return Qn(e);if(Mn(e))return Jn(e);if(Un(e))return Xn(e);if(qn(e))return hr(e);if(Wn(e))return Yn(e);if(zn(e))return Zn(e)}throw jn(e)}function Qn(e){return new X(function(t){var r=e[ht]();if(I(r.subscribe))return r.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function Jn(e){return new X(function(t){for(var r=0;r<e.length&&!t.closed;r++)t.next(e[r]);t.complete()})}function Xn(e){return new X(function(t){e.then(function(r){t.closed||(t.next(r),t.complete())},function(r){return t.error(r)}).then(null,lr)})}function Yn(e){return new X(function(t){var r,n;try{for(var o=pe(e),i=o.next();!i.done;i=o.next()){var a=i.value;if(t.next(a),t.closed)return}}catch(s){r={error:s}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}t.complete()})}function hr(e){return new X(function(t){ei(e,t).catch(function(r){return t.error(r)})})}function Zn(e){return hr(Kn(e))}function ei(e,t){var r,n,o,i;return wn(this,void 0,void 0,function(){var a,s;return or(this,function(c){switch(c.label){case 0:c.trys.push([0,5,6,11]),r=Sn(e),c.label=1;case 1:return[4,r.next()];case 2:if(n=c.sent(),!!n.done)return[3,4];if(a=n.value,t.next(a),t.closed)return[2];c.label=3;case 3:return[3,1];case 4:return[3,11];case 5:return s=c.sent(),o={error:s},[3,11];case 6:return c.trys.push([6,,9,10]),n&&!n.done&&(i=r.return)?[4,i.call(r)]:[3,8];case 7:c.sent(),c.label=8;case 8:return[3,10];case 9:if(o)throw o.error;return[7];case 10:return[7];case 11:return t.complete(),[2]}})})}function ti(e,t){return dt(function(r,n){var o=0;r.subscribe(qe(n,function(i){n.next(e.call(t,i,o++))}))})}function ri(e,t,r){var n=I(e)||t||r?{next:e,error:t,complete:r}:e;return n?dt(function(o,i){var a;(a=n.subscribe)===null||a===void 0||a.call(n);var s=!0;o.subscribe(qe(i,function(c){var u;(u=n.next)===null||u===void 0||u.call(n,c),i.next(c)},function(){var c;s=!1,(c=n.complete)===null||c===void 0||c.call(n),i.complete()},function(c){var u;s=!1,(u=n.error)===null||u===void 0||u.call(n,c),i.error(c)},function(){var c,u;s&&((c=n.unsubscribe)===null||c===void 0||c.call(n)),(u=n.finalize)===null||u===void 0||u.call(n)}))}):yt}function ni(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=$n(e);return dt(function(n,o){for(var i=e.length,a=new Array(i),s=e.map(function(){return!1}),c=!1,u=function(d){Vn(e[d]).subscribe(qe(o,function(h){a[d]=h,!c&&!s[d]&&(s[d]=!0,(c=s.every(yt))&&(s=null))},st))},y=0;y<i;y++)u(y);n.subscribe(qe(o,function(d){if(c){var h=ye([d],he(a));o.next(r?r.apply(void 0,ye([],he(h))):h)}}))})}class yr{constructor(){A(this,"startTime");A(this,"lastActive");A(this,"accTime");A(this,"isFocused");this.startTime=this.lastActive=new Date().getTime(),this.isFocused=!0,this.accTime=0}notifyFocus(){const t=new Date().getTime();this.isFocused&&(this.accTime+=t-this.lastActive),this.isFocused=!0,this.lastActive=t}notifyBlur(){this.isFocused=!1,this.accTime+=new Date().getTime()-this.lastActive}getActiveTime(){let t=this.accTime;return this.isFocused&&(t+=new Date().getTime()-this.lastActive),t}}function ii(e){if(e.__esModule)return e;var t=Object.defineProperty({},"__esModule",{value:!0});return Object.keys(e).forEach(function(r){var n=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(t,r,n.get?n:{enumerable:!0,get:function(){return e[r]}})}),t}var je={exports:{}},dr={exports:{}};(function(e){e.exports=t;function t(n){if(n)return r(n)}function r(n){for(var o in t.prototype)n[o]=t.prototype[o];return n}t.prototype.on=t.prototype.addEventListener=function(n,o){return this._callbacks=this._callbacks||{},(this._callbacks["$"+n]=this._callbacks["$"+n]||[]).push(o),this},t.prototype.once=function(n,o){function i(){this.off(n,i),o.apply(this,arguments)}return i.fn=o,this.on(n,i),this},t.prototype.off=t.prototype.removeListener=t.prototype.removeAllListeners=t.prototype.removeEventListener=function(n,o){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var i=this._callbacks["$"+n];if(!i)return this;if(arguments.length==1)return delete this._callbacks["$"+n],this;for(var a,s=0;s<i.length;s++)if(a=i[s],a===o||a.fn===o){i.splice(s,1);break}return i.length===0&&delete this._callbacks["$"+n],this},t.prototype.emit=function(n){this._callbacks=this._callbacks||{};for(var o=new Array(arguments.length-1),i=this._callbacks["$"+n],a=1;a<arguments.length;a++)o[a-1]=arguments[a];if(i){i=i.slice(0);for(var a=0,s=i.length;a<s;++a)i[a].apply(this,o)}return this},t.prototype.listeners=function(n){return this._callbacks=this._callbacks||{},this._callbacks["$"+n]||[]},t.prototype.hasListeners=function(n){return!!this.listeners(n).length}})(dr);var oi=Ae;Ae.default=Ae,Ae.stable=gr,Ae.stableStringify=gr;var He="[...]",vr="[Circular]",ie=[],oe=[];function mr(){return{depthLimit:Number.MAX_SAFE_INTEGER,edgesLimit:Number.MAX_SAFE_INTEGER}}function Ae(e,t,r,n){typeof n=="undefined"&&(n=mr()),mt(e,"",0,[],void 0,0,n);var o;try{oe.length===0?o=JSON.stringify(e,t,r):o=JSON.stringify(e,br(t),r)}catch{return JSON.stringify("[unable to serialize, circular reference is too complex to analyze]")}finally{for(;ie.length!==0;){var i=ie.pop();i.length===4?Object.defineProperty(i[0],i[1],i[3]):i[0][i[1]]=i[2]}}return o}function ve(e,t,r,n){var o=Object.getOwnPropertyDescriptor(n,r);o.get!==void 0?o.configurable?(Object.defineProperty(n,r,{value:e}),ie.push([n,r,t,o])):oe.push([t,r,e]):(n[r]=e,ie.push([n,r,t]))}function mt(e,t,r,n,o,i,a){i+=1;var s;if(typeof e=="object"&&e!==null){for(s=0;s<n.length;s++)if(n[s]===e){ve(vr,e,t,o);return}if(typeof a.depthLimit!="undefined"&&i>a.depthLimit){ve(He,e,t,o);return}if(typeof a.edgesLimit!="undefined"&&r+1>a.edgesLimit){ve(He,e,t,o);return}if(n.push(e),Array.isArray(e))for(s=0;s<e.length;s++)mt(e[s],s,s,n,e,i,a);else{var c=Object.keys(e);for(s=0;s<c.length;s++){var u=c[s];mt(e[u],u,s,n,e,i,a)}}n.pop()}}function ai(e,t){return e<t?-1:e>t?1:0}function gr(e,t,r,n){typeof n=="undefined"&&(n=mr());var o=gt(e,"",0,[],void 0,0,n)||e,i;try{oe.length===0?i=JSON.stringify(o,t,r):i=JSON.stringify(o,br(t),r)}catch{return JSON.stringify("[unable to serialize, circular reference is too complex to analyze]")}finally{for(;ie.length!==0;){var a=ie.pop();a.length===4?Object.defineProperty(a[0],a[1],a[3]):a[0][a[1]]=a[2]}}return i}function gt(e,t,r,n,o,i,a){i+=1;var s;if(typeof e=="object"&&e!==null){for(s=0;s<n.length;s++)if(n[s]===e){ve(vr,e,t,o);return}try{if(typeof e.toJSON=="function")return}catch{return}if(typeof a.depthLimit!="undefined"&&i>a.depthLimit){ve(He,e,t,o);return}if(typeof a.edgesLimit!="undefined"&&r+1>a.edgesLimit){ve(He,e,t,o);return}if(n.push(e),Array.isArray(e))for(s=0;s<e.length;s++)gt(e[s],s,s,n,e,i,a);else{var c={},u=Object.keys(e).sort(ai);for(s=0;s<u.length;s++){var y=u[s];gt(e[y],y,s,n,e,i,a),c[y]=e[y]}if(typeof o!="undefined")ie.push([o,t,e]),o[t]=c;else return c}n.pop()}}function br(e){return e=typeof e!="undefined"?e:function(t,r){return r},function(t,r){if(oe.length>0)for(var n=0;n<oe.length;n++){var o=oe[n];if(o[1]===t&&o[0]===r){r=o[2],oe.splice(n,1);break}}return e.call(this,t,r)}}var si=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var t={},r=Symbol("test"),n=Object(r);if(typeof r=="string"||Object.prototype.toString.call(r)!=="[object Symbol]"||Object.prototype.toString.call(n)!=="[object Symbol]")return!1;var o=42;t[r]=o;for(r in t)return!1;if(typeof Object.keys=="function"&&Object.keys(t).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(t).length!==0)return!1;var i=Object.getOwnPropertySymbols(t);if(i.length!==1||i[0]!==r||!Object.prototype.propertyIsEnumerable.call(t,r))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var a=Object.getOwnPropertyDescriptor(t,r);if(a.value!==o||a.enumerable!==!0)return!1}return!0},wr=typeof Symbol!="undefined"&&Symbol,ui=si,ci=function(){return typeof wr!="function"||typeof Symbol!="function"||typeof wr("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:ui()},li="Function.prototype.bind called on incompatible ",bt=Array.prototype.slice,fi=Object.prototype.toString,pi="[object Function]",hi=function(t){var r=this;if(typeof r!="function"||fi.call(r)!==pi)throw new TypeError(li+r);for(var n=bt.call(arguments,1),o,i=function(){if(this instanceof o){var y=r.apply(this,n.concat(bt.call(arguments)));return Object(y)===y?y:this}else return r.apply(t,n.concat(bt.call(arguments)))},a=Math.max(0,r.length-n.length),s=[],c=0;c<a;c++)s.push("$"+c);if(o=Function("binder","return function ("+s.join(",")+"){ return binder.apply(this,arguments); }")(i),r.prototype){var u=function(){};u.prototype=r.prototype,o.prototype=new u,u.prototype=null}return o},yi=hi,wt=Function.prototype.bind||yi,di=wt,vi=di.call(Function.call,Object.prototype.hasOwnProperty),S,Re=SyntaxError,Er=Function,me=TypeError,Et=function(e){try{return Er('"use strict"; return ('+e+").constructor;")()}catch{}},ae=Object.getOwnPropertyDescriptor;if(ae)try{ae({},"")}catch{ae=null}var St=function(){throw new me},mi=ae?function(){try{return arguments.callee,St}catch{try{return ae(arguments,"callee").get}catch{return St}}}():St,ge=ci(),Y=Object.getPrototypeOf||function(e){return e.__proto__},be={},gi=typeof Uint8Array=="undefined"?S:Y(Uint8Array),we={"%AggregateError%":typeof AggregateError=="undefined"?S:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer=="undefined"?S:ArrayBuffer,"%ArrayIteratorPrototype%":ge?Y([][Symbol.iterator]()):S,"%AsyncFromSyncIteratorPrototype%":S,"%AsyncFunction%":be,"%AsyncGenerator%":be,"%AsyncGeneratorFunction%":be,"%AsyncIteratorPrototype%":be,"%Atomics%":typeof Atomics=="undefined"?S:Atomics,"%BigInt%":typeof BigInt=="undefined"?S:BigInt,"%Boolean%":Boolean,"%DataView%":typeof DataView=="undefined"?S:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":typeof Float32Array=="undefined"?S:Float32Array,"%Float64Array%":typeof Float64Array=="undefined"?S:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry=="undefined"?S:FinalizationRegistry,"%Function%":Er,"%GeneratorFunction%":be,"%Int8Array%":typeof Int8Array=="undefined"?S:Int8Array,"%Int16Array%":typeof Int16Array=="undefined"?S:Int16Array,"%Int32Array%":typeof Int32Array=="undefined"?S:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":ge?Y(Y([][Symbol.iterator]())):S,"%JSON%":typeof JSON=="object"?JSON:S,"%Map%":typeof Map=="undefined"?S:Map,"%MapIteratorPrototype%":typeof Map=="undefined"||!ge?S:Y(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise=="undefined"?S:Promise,"%Proxy%":typeof Proxy=="undefined"?S:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":typeof Reflect=="undefined"?S:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set=="undefined"?S:Set,"%SetIteratorPrototype%":typeof Set=="undefined"||!ge?S:Y(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer=="undefined"?S:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":ge?Y(""[Symbol.iterator]()):S,"%Symbol%":ge?Symbol:S,"%SyntaxError%":Re,"%ThrowTypeError%":mi,"%TypedArray%":gi,"%TypeError%":me,"%Uint8Array%":typeof Uint8Array=="undefined"?S:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray=="undefined"?S:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array=="undefined"?S:Uint16Array,"%Uint32Array%":typeof Uint32Array=="undefined"?S:Uint32Array,"%URIError%":URIError,"%WeakMap%":typeof WeakMap=="undefined"?S:WeakMap,"%WeakRef%":typeof WeakRef=="undefined"?S:WeakRef,"%WeakSet%":typeof WeakSet=="undefined"?S:WeakSet},bi=function e(t){var r;if(t==="%AsyncFunction%")r=Et("async function () {}");else if(t==="%GeneratorFunction%")r=Et("function* () {}");else if(t==="%AsyncGeneratorFunction%")r=Et("async function* () {}");else if(t==="%AsyncGenerator%"){var n=e("%AsyncGeneratorFunction%");n&&(r=n.prototype)}else if(t==="%AsyncIteratorPrototype%"){var o=e("%AsyncGenerator%");o&&(r=Y(o.prototype))}return we[t]=r,r},Sr={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},Ge=wt,We=vi,wi=Ge.call(Function.call,Array.prototype.concat),Ei=Ge.call(Function.apply,Array.prototype.splice),_r=Ge.call(Function.call,String.prototype.replace),Ke=Ge.call(Function.call,String.prototype.slice),Si=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,_i=/\\(\\)?/g,Oi=function(t){var r=Ke(t,0,1),n=Ke(t,-1);if(r==="%"&&n!=="%")throw new Re("invalid intrinsic syntax, expected closing `%`");if(n==="%"&&r!=="%")throw new Re("invalid intrinsic syntax, expected opening `%`");var o=[];return _r(t,Si,function(i,a,s,c){o[o.length]=s?_r(c,_i,"$1"):a||i}),o},Ti=function(t,r){var n=t,o;if(We(Sr,n)&&(o=Sr[n],n="%"+o[0]+"%"),We(we,n)){var i=we[n];if(i===be&&(i=bi(n)),typeof i=="undefined"&&!r)throw new me("intrinsic "+t+" exists, but is not available. Please file an issue!");return{alias:o,name:n,value:i}}throw new Re("intrinsic "+t+" does not exist!")},_t=function(t,r){if(typeof t!="string"||t.length===0)throw new me("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof r!="boolean")throw new me('"allowMissing" argument must be a boolean');var n=Oi(t),o=n.length>0?n[0]:"",i=Ti("%"+o+"%",r),a=i.name,s=i.value,c=!1,u=i.alias;u&&(o=u[0],Ei(n,wi([0,1],u)));for(var y=1,d=!0;y<n.length;y+=1){var h=n[y],v=Ke(h,0,1),g=Ke(h,-1);if((v==='"'||v==="'"||v==="`"||g==='"'||g==="'"||g==="`")&&v!==g)throw new Re("property names with quotes must have matching quotes");if((h==="constructor"||!d)&&(c=!0),o+="."+h,a="%"+o+"%",We(we,a))s=we[a];else if(s!=null){if(!(h in s)){if(!r)throw new me("base intrinsic for "+t+" exists, but the property is not available.");return}if(ae&&y+1>=n.length){var _=ae(s,h);d=!!_,d&&"get"in _&&!("originalValue"in _.get)?s=_.get:s=s[h]}else d=We(s,h),s=s[h];d&&!c&&(we[a]=s)}}return s},Or={exports:{}};(function(e){var t=wt,r=_t,n=r("%Function.prototype.apply%"),o=r("%Function.prototype.call%"),i=r("%Reflect.apply%",!0)||t.call(o,n),a=r("%Object.getOwnPropertyDescriptor%",!0),s=r("%Object.defineProperty%",!0),c=r("%Math.max%");if(s)try{s({},"a",{value:1})}catch{s=null}e.exports=function(d){var h=i(t,o,arguments);if(a&&s){var v=a(h,"length");v.configurable&&s(h,"length",{value:1+c(0,d.length-(arguments.length-1))})}return h};var u=function(){return i(t,n,arguments)};s?s(e.exports,"apply",{value:u}):e.exports.apply=u})(Or);var Tr=_t,Ar=Or.exports,Ai=Ar(Tr("String.prototype.indexOf")),Ri=function(t,r){var n=Tr(t,!!r);return typeof n=="function"&&Ai(t,".prototype.")>-1?Ar(n):n},Pi={},xi=Object.freeze(Object.defineProperty({__proto__:null,default:Pi},Symbol.toStringTag,{value:"Module"})),Rr=ii(xi),Ot=typeof Map=="function"&&Map.prototype,Tt=Object.getOwnPropertyDescriptor&&Ot?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,ze=Ot&&Tt&&typeof Tt.get=="function"?Tt.get:null,Ii=Ot&&Map.prototype.forEach,At=typeof Set=="function"&&Set.prototype,Rt=Object.getOwnPropertyDescriptor&&At?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,Ve=At&&Rt&&typeof Rt.get=="function"?Rt.get:null,Li=At&&Set.prototype.forEach,Ni=typeof WeakMap=="function"&&WeakMap.prototype,Pe=Ni?WeakMap.prototype.has:null,Ci=typeof WeakSet=="function"&&WeakSet.prototype,xe=Ci?WeakSet.prototype.has:null,Di=typeof WeakRef=="function"&&WeakRef.prototype,Pr=Di?WeakRef.prototype.deref:null,Fi=Boolean.prototype.valueOf,ki=Object.prototype.toString,$i=Function.prototype.toString,Mi=String.prototype.match,Pt=String.prototype.slice,Z=String.prototype.replace,Ui=String.prototype.toUpperCase,xr=String.prototype.toLowerCase,Ir=RegExp.prototype.test,Lr=Array.prototype.concat,z=Array.prototype.join,Bi=Array.prototype.slice,Nr=Math.floor,xt=typeof BigInt=="function"?BigInt.prototype.valueOf:null,It=Object.getOwnPropertySymbols,Lt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Symbol.prototype.toString:null,Ee=typeof Symbol=="function"&&typeof Symbol.iterator=="object",D=typeof Symbol=="function"&&Symbol.toStringTag&&(typeof Symbol.toStringTag===Ee?"object":"symbol")?Symbol.toStringTag:null,Cr=Object.prototype.propertyIsEnumerable,Dr=(typeof Reflect=="function"?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(e){return e.__proto__}:null);function Fr(e,t){if(e===1/0||e===-1/0||e!==e||e&&e>-1e3&&e<1e3||Ir.call(/e/,t))return t;var r=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if(typeof e=="number"){var n=e<0?-Nr(-e):Nr(e);if(n!==e){var o=String(n),i=Pt.call(t,o.length+1);return Z.call(o,r,"$&_")+"."+Z.call(Z.call(i,/([0-9]{3})/g,"$&_"),/_$/,"")}}return Z.call(t,r,"$&_")}var Nt=Rr.custom,Ct=Nt&&$r(Nt)?Nt:null,qi=function e(t,r,n,o){var i=r||{};if(ee(i,"quoteStyle")&&i.quoteStyle!=="single"&&i.quoteStyle!=="double")throw new TypeError('option "quoteStyle" must be "single" or "double"');if(ee(i,"maxStringLength")&&(typeof i.maxStringLength=="number"?i.maxStringLength<0&&i.maxStringLength!==1/0:i.maxStringLength!==null))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var a=ee(i,"customInspect")?i.customInspect:!0;if(typeof a!="boolean"&&a!=="symbol")throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(ee(i,"indent")&&i.indent!==null&&i.indent!=="	"&&!(parseInt(i.indent,10)===i.indent&&i.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(ee(i,"numericSeparator")&&typeof i.numericSeparator!="boolean")throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var s=i.numericSeparator;if(typeof t=="undefined")return"undefined";if(t===null)return"null";if(typeof t=="boolean")return t?"true":"false";if(typeof t=="string")return Ur(t,i);if(typeof t=="number"){if(t===0)return 1/0/t>0?"0":"-0";var c=String(t);return s?Fr(t,c):c}if(typeof t=="bigint"){var u=String(t)+"n";return s?Fr(t,u):u}var y=typeof i.depth=="undefined"?5:i.depth;if(typeof n=="undefined"&&(n=0),n>=y&&y>0&&typeof t=="object")return Dt(t)?"[Array]":"[Object]";var d=ao(i,n);if(typeof o=="undefined")o=[];else if(Mr(o,t)>=0)return"[Circular]";function h(C,J,l){if(J&&(o=Bi.call(o),o.push(J)),l){var f={depth:i.depth};return ee(i,"quoteStyle")&&(f.quoteStyle=i.quoteStyle),e(C,f,n+1,o)}return e(C,i,n+1,o)}if(typeof t=="function"){var v=Xi(t),g=Qe(t,h);return"[Function"+(v?": "+v:" (anonymous)")+"]"+(g.length>0?" { "+z.call(g,", ")+" }":"")}if($r(t)){var _=Ee?Z.call(String(t),/^(Symbol\(.*\))_[^)]*$/,"$1"):Lt.call(t);return typeof t=="object"&&!Ee?Ie(_):_}if(no(t)){for(var E="<"+xr.call(String(t.nodeName)),M=t.attributes||[],b=0;b<M.length;b++)E+=" "+M[b].name+"="+kr(ji(M[b].value),"double",i);return E+=">",t.childNodes&&t.childNodes.length&&(E+="..."),E+="</"+xr.call(String(t.nodeName))+">",E}if(Dt(t)){if(t.length===0)return"[]";var W=Qe(t,h);return d&&!oo(W)?"["+kt(W,d)+"]":"[ "+z.call(W,", ")+" ]"}if(Wi(t)){var U=Qe(t,h);return"cause"in t&&!Cr.call(t,"cause")?"{ ["+String(t)+"] "+z.call(Lr.call("[cause]: "+h(t.cause),U),", ")+" }":U.length===0?"["+String(t)+"]":"{ ["+String(t)+"] "+z.call(U,", ")+" }"}if(typeof t=="object"&&a){if(Ct&&typeof t[Ct]=="function")return t[Ct]();if(a!=="symbol"&&typeof t.inspect=="function")return t.inspect()}if(Yi(t)){var H=[];return Ii.call(t,function(C,J){H.push(h(J,t,!0)+" => "+h(C,t))}),Br("Map",ze.call(t),H,d)}if(to(t)){var re=[];return Li.call(t,function(C){re.push(h(C,t))}),Br("Set",Ve.call(t),re,d)}if(Zi(t))return Ft("WeakMap");if(ro(t))return Ft("WeakSet");if(eo(t))return Ft("WeakRef");if(zi(t))return Ie(h(Number(t)));if(Qi(t))return Ie(h(xt.call(t)));if(Vi(t))return Ie(Fi.call(t));if(Ki(t))return Ie(h(String(t)));if(!Hi(t)&&!Gi(t)){var ne=Qe(t,h),Q=Dr?Dr(t)===Object.prototype:t instanceof Object||t.constructor===Object,q=t instanceof Object?"":"null prototype",T=!Q&&D&&Object(t)===t&&D in t?Pt.call(te(t),8,-1):q?"Object":"",Oe=Q||typeof t.constructor!="function"?"":t.constructor.name?t.constructor.name+" ":"",K=Oe+(T||q?"["+z.call(Lr.call([],T||[],q||[]),": ")+"] ":"");return ne.length===0?K+"{}":d?K+"{"+kt(ne,d)+"}":K+"{ "+z.call(ne,", ")+" }"}return String(t)};function kr(e,t,r){var n=(r.quoteStyle||t)==="double"?'"':"'";return n+e+n}function ji(e){return Z.call(String(e),/"/g,"&quot;")}function Dt(e){return te(e)==="[object Array]"&&(!D||!(typeof e=="object"&&D in e))}function Hi(e){return te(e)==="[object Date]"&&(!D||!(typeof e=="object"&&D in e))}function Gi(e){return te(e)==="[object RegExp]"&&(!D||!(typeof e=="object"&&D in e))}function Wi(e){return te(e)==="[object Error]"&&(!D||!(typeof e=="object"&&D in e))}function Ki(e){return te(e)==="[object String]"&&(!D||!(typeof e=="object"&&D in e))}function zi(e){return te(e)==="[object Number]"&&(!D||!(typeof e=="object"&&D in e))}function Vi(e){return te(e)==="[object Boolean]"&&(!D||!(typeof e=="object"&&D in e))}function $r(e){if(Ee)return e&&typeof e=="object"&&e instanceof Symbol;if(typeof e=="symbol")return!0;if(!e||typeof e!="object"||!Lt)return!1;try{return Lt.call(e),!0}catch{}return!1}function Qi(e){if(!e||typeof e!="object"||!xt)return!1;try{return xt.call(e),!0}catch{}return!1}var Ji=Object.prototype.hasOwnProperty||function(e){return e in this};function ee(e,t){return Ji.call(e,t)}function te(e){return ki.call(e)}function Xi(e){if(e.name)return e.name;var t=Mi.call($i.call(e),/^function\s*([\w$]+)/);return t?t[1]:null}function Mr(e,t){if(e.indexOf)return e.indexOf(t);for(var r=0,n=e.length;r<n;r++)if(e[r]===t)return r;return-1}function Yi(e){if(!ze||!e||typeof e!="object")return!1;try{ze.call(e);try{Ve.call(e)}catch{return!0}return e instanceof Map}catch{}return!1}function Zi(e){if(!Pe||!e||typeof e!="object")return!1;try{Pe.call(e,Pe);try{xe.call(e,xe)}catch{return!0}return e instanceof WeakMap}catch{}return!1}function eo(e){if(!Pr||!e||typeof e!="object")return!1;try{return Pr.call(e),!0}catch{}return!1}function to(e){if(!Ve||!e||typeof e!="object")return!1;try{Ve.call(e);try{ze.call(e)}catch{return!0}return e instanceof Set}catch{}return!1}function ro(e){if(!xe||!e||typeof e!="object")return!1;try{xe.call(e,xe);try{Pe.call(e,Pe)}catch{return!0}return e instanceof WeakSet}catch{}return!1}function no(e){return!e||typeof e!="object"?!1:typeof HTMLElement!="undefined"&&e instanceof HTMLElement?!0:typeof e.nodeName=="string"&&typeof e.getAttribute=="function"}function Ur(e,t){if(e.length>t.maxStringLength){var r=e.length-t.maxStringLength,n="... "+r+" more character"+(r>1?"s":"");return Ur(Pt.call(e,0,t.maxStringLength),t)+n}var o=Z.call(Z.call(e,/(['\\])/g,"\\$1"),/[\x00-\x1f]/g,io);return kr(o,"single",t)}function io(e){var t=e.charCodeAt(0),r={8:"b",9:"t",10:"n",12:"f",13:"r"}[t];return r?"\\"+r:"\\x"+(t<16?"0":"")+Ui.call(t.toString(16))}function Ie(e){return"Object("+e+")"}function Ft(e){return e+" { ? }"}function Br(e,t,r,n){var o=n?kt(r,n):z.call(r,", ");return e+" ("+t+") {"+o+"}"}function oo(e){for(var t=0;t<e.length;t++)if(Mr(e[t],`
`)>=0)return!1;return!0}function ao(e,t){var r;if(e.indent==="	")r="	";else if(typeof e.indent=="number"&&e.indent>0)r=z.call(Array(e.indent+1)," ");else return null;return{base:r,prev:z.call(Array(t+1),r)}}function kt(e,t){if(e.length===0)return"";var r=`
`+t.prev+t.base;return r+z.call(e,","+r)+`
`+t.prev}function Qe(e,t){var r=Dt(e),n=[];if(r){n.length=e.length;for(var o=0;o<e.length;o++)n[o]=ee(e,o)?t(e[o],e):""}var i=typeof It=="function"?It(e):[],a;if(Ee){a={};for(var s=0;s<i.length;s++)a["$"+i[s]]=i[s]}for(var c in e)!ee(e,c)||r&&String(Number(c))===c&&c<e.length||Ee&&a["$"+c]instanceof Symbol||(Ir.call(/[^\w$]/,c)?n.push(t(c,e)+": "+t(e[c],e)):n.push(c+": "+t(e[c],e)));if(typeof It=="function")for(var u=0;u<i.length;u++)Cr.call(e,i[u])&&n.push("["+t(i[u])+"]: "+t(e[i[u]],e));return n}var $t=_t,Se=Ri,so=qi,uo=$t("%TypeError%"),Je=$t("%WeakMap%",!0),Xe=$t("%Map%",!0),co=Se("WeakMap.prototype.get",!0),lo=Se("WeakMap.prototype.set",!0),fo=Se("WeakMap.prototype.has",!0),po=Se("Map.prototype.get",!0),ho=Se("Map.prototype.set",!0),yo=Se("Map.prototype.has",!0),Mt=function(e,t){for(var r=e,n;(n=r.next)!==null;r=n)if(n.key===t)return r.next=n.next,n.next=e.next,e.next=n,n},vo=function(e,t){var r=Mt(e,t);return r&&r.value},mo=function(e,t,r){var n=Mt(e,t);n?n.value=r:e.next={key:t,next:e.next,value:r}},go=function(e,t){return!!Mt(e,t)},bo=function(){var t,r,n,o={assert:function(i){if(!o.has(i))throw new uo("Side channel does not contain "+so(i))},get:function(i){if(Je&&i&&(typeof i=="object"||typeof i=="function")){if(t)return co(t,i)}else if(Xe){if(r)return po(r,i)}else if(n)return vo(n,i)},has:function(i){if(Je&&i&&(typeof i=="object"||typeof i=="function")){if(t)return fo(t,i)}else if(Xe){if(r)return yo(r,i)}else if(n)return go(n,i);return!1},set:function(i,a){Je&&i&&(typeof i=="object"||typeof i=="function")?(t||(t=new Je),lo(t,i,a)):Xe?(r||(r=new Xe),ho(r,i,a)):(n||(n={key:{},next:null}),mo(n,i,a))}};return o},wo=String.prototype.replace,Eo=/%20/g,Ut={RFC1738:"RFC1738",RFC3986:"RFC3986"},Bt={default:Ut.RFC3986,formatters:{RFC1738:function(e){return wo.call(e,Eo,"+")},RFC3986:function(e){return String(e)}},RFC1738:Ut.RFC1738,RFC3986:Ut.RFC3986},So=Bt,qt=Object.prototype.hasOwnProperty,se=Array.isArray,V=function(){for(var e=[],t=0;t<256;++t)e.push("%"+((t<16?"0":"")+t.toString(16)).toUpperCase());return e}(),_o=function(t){for(;t.length>1;){var r=t.pop(),n=r.obj[r.prop];if(se(n)){for(var o=[],i=0;i<n.length;++i)typeof n[i]!="undefined"&&o.push(n[i]);r.obj[r.prop]=o}}},qr=function(t,r){for(var n=r&&r.plainObjects?Object.create(null):{},o=0;o<t.length;++o)typeof t[o]!="undefined"&&(n[o]=t[o]);return n},Oo=function e(t,r,n){if(!r)return t;if(typeof r!="object"){if(se(t))t.push(r);else if(t&&typeof t=="object")(n&&(n.plainObjects||n.allowPrototypes)||!qt.call(Object.prototype,r))&&(t[r]=!0);else return[t,r];return t}if(!t||typeof t!="object")return[t].concat(r);var o=t;return se(t)&&!se(r)&&(o=qr(t,n)),se(t)&&se(r)?(r.forEach(function(i,a){if(qt.call(t,a)){var s=t[a];s&&typeof s=="object"&&i&&typeof i=="object"?t[a]=e(s,i,n):t.push(i)}else t[a]=i}),t):Object.keys(r).reduce(function(i,a){var s=r[a];return qt.call(i,a)?i[a]=e(i[a],s,n):i[a]=s,i},o)},To=function(t,r){return Object.keys(r).reduce(function(n,o){return n[o]=r[o],n},t)},Ao=function(e,t,r){var n=e.replace(/\+/g," ");if(r==="iso-8859-1")return n.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(n)}catch{return n}},Ro=function(t,r,n,o,i){if(t.length===0)return t;var a=t;if(typeof t=="symbol"?a=Symbol.prototype.toString.call(t):typeof t!="string"&&(a=String(t)),n==="iso-8859-1")return escape(a).replace(/%u[0-9a-f]{4}/gi,function(y){return"%26%23"+parseInt(y.slice(2),16)+"%3B"});for(var s="",c=0;c<a.length;++c){var u=a.charCodeAt(c);if(u===45||u===46||u===95||u===126||u>=48&&u<=57||u>=65&&u<=90||u>=97&&u<=122||i===So.RFC1738&&(u===40||u===41)){s+=a.charAt(c);continue}if(u<128){s=s+V[u];continue}if(u<2048){s=s+(V[192|u>>6]+V[128|u&63]);continue}if(u<55296||u>=57344){s=s+(V[224|u>>12]+V[128|u>>6&63]+V[128|u&63]);continue}c+=1,u=65536+((u&1023)<<10|a.charCodeAt(c)&1023),s+=V[240|u>>18]+V[128|u>>12&63]+V[128|u>>6&63]+V[128|u&63]}return s},Po=function(t){for(var r=[{obj:{o:t},prop:"o"}],n=[],o=0;o<r.length;++o)for(var i=r[o],a=i.obj[i.prop],s=Object.keys(a),c=0;c<s.length;++c){var u=s[c],y=a[u];typeof y=="object"&&y!==null&&n.indexOf(y)===-1&&(r.push({obj:a,prop:u}),n.push(y))}return _o(r),t},xo=function(t){return Object.prototype.toString.call(t)==="[object RegExp]"},Io=function(t){return!t||typeof t!="object"?!1:!!(t.constructor&&t.constructor.isBuffer&&t.constructor.isBuffer(t))},Lo=function(t,r){return[].concat(t,r)},No=function(t,r){if(se(t)){for(var n=[],o=0;o<t.length;o+=1)n.push(r(t[o]));return n}return r(t)},jr={arrayToObject:qr,assign:To,combine:Lo,compact:Po,decode:Ao,encode:Ro,isBuffer:Io,isRegExp:xo,maybeMap:No,merge:Oo},Hr=bo,jt=jr,Le=Bt,Co=Object.prototype.hasOwnProperty,Gr={brackets:function(t){return t+"[]"},comma:"comma",indices:function(t,r){return t+"["+r+"]"},repeat:function(t){return t}},ue=Array.isArray,Do=String.prototype.split,Fo=Array.prototype.push,Wr=function(e,t){Fo.apply(e,ue(t)?t:[t])},ko=Date.prototype.toISOString,Kr=Le.default,N={addQueryPrefix:!1,allowDots:!1,charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encoder:jt.encode,encodeValuesOnly:!1,format:Kr,formatter:Le.formatters[Kr],indices:!1,serializeDate:function(t){return ko.call(t)},skipNulls:!1,strictNullHandling:!1},$o=function(t){return typeof t=="string"||typeof t=="number"||typeof t=="boolean"||typeof t=="symbol"||typeof t=="bigint"},Ht={},Mo=function e(t,r,n,o,i,a,s,c,u,y,d,h,v,g,_){for(var E=t,M=_,b=0,W=!1;(M=M.get(Ht))!==void 0&&!W;){var U=M.get(t);if(b+=1,typeof U!="undefined"){if(U===b)throw new RangeError("Cyclic object value");W=!0}typeof M.get(Ht)=="undefined"&&(b=0)}if(typeof s=="function"?E=s(r,E):E instanceof Date?E=y(E):n==="comma"&&ue(E)&&(E=jt.maybeMap(E,function(p){return p instanceof Date?y(p):p})),E===null){if(o)return a&&!v?a(r,N.encoder,g,"key",d):r;E=""}if($o(E)||jt.isBuffer(E)){if(a){var H=v?r:a(r,N.encoder,g,"key",d);if(n==="comma"&&v){for(var re=Do.call(String(E),","),ne="",Q=0;Q<re.length;++Q)ne+=(Q===0?"":",")+h(a(re[Q],N.encoder,g,"value",d));return[h(H)+"="+ne]}return[h(H)+"="+h(a(E,N.encoder,g,"value",d))]}return[h(r)+"="+h(String(E))]}var q=[];if(typeof E=="undefined")return q;var T;if(n==="comma"&&ue(E))T=[{value:E.length>0?E.join(",")||null:void 0}];else if(ue(s))T=s;else{var Oe=Object.keys(E);T=c?Oe.sort(c):Oe}for(var K=0;K<T.length;++K){var C=T[K],J=typeof C=="object"&&typeof C.value!="undefined"?C.value:E[C];if(!(i&&J===null)){var l=ue(E)?typeof n=="function"?n(r,C):r:r+(u?"."+C:"["+C+"]");_.set(t,b);var f=Hr();f.set(Ht,_),Wr(q,e(J,l,n,o,i,a,s,c,u,y,d,h,v,g,f))}}return q},Uo=function(t){if(!t)return N;if(t.encoder!==null&&typeof t.encoder!="undefined"&&typeof t.encoder!="function")throw new TypeError("Encoder has to be a function.");var r=t.charset||N.charset;if(typeof t.charset!="undefined"&&t.charset!=="utf-8"&&t.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var n=Le.default;if(typeof t.format!="undefined"){if(!Co.call(Le.formatters,t.format))throw new TypeError("Unknown format option provided.");n=t.format}var o=Le.formatters[n],i=N.filter;return(typeof t.filter=="function"||ue(t.filter))&&(i=t.filter),{addQueryPrefix:typeof t.addQueryPrefix=="boolean"?t.addQueryPrefix:N.addQueryPrefix,allowDots:typeof t.allowDots=="undefined"?N.allowDots:!!t.allowDots,charset:r,charsetSentinel:typeof t.charsetSentinel=="boolean"?t.charsetSentinel:N.charsetSentinel,delimiter:typeof t.delimiter=="undefined"?N.delimiter:t.delimiter,encode:typeof t.encode=="boolean"?t.encode:N.encode,encoder:typeof t.encoder=="function"?t.encoder:N.encoder,encodeValuesOnly:typeof t.encodeValuesOnly=="boolean"?t.encodeValuesOnly:N.encodeValuesOnly,filter:i,format:n,formatter:o,serializeDate:typeof t.serializeDate=="function"?t.serializeDate:N.serializeDate,skipNulls:typeof t.skipNulls=="boolean"?t.skipNulls:N.skipNulls,sort:typeof t.sort=="function"?t.sort:null,strictNullHandling:typeof t.strictNullHandling=="boolean"?t.strictNullHandling:N.strictNullHandling}},Bo=function(e,t){var r=e,n=Uo(t),o,i;typeof n.filter=="function"?(i=n.filter,r=i("",r)):ue(n.filter)&&(i=n.filter,o=i);var a=[];if(typeof r!="object"||r===null)return"";var s;t&&t.arrayFormat in Gr?s=t.arrayFormat:t&&"indices"in t?s=t.indices?"indices":"repeat":s="indices";var c=Gr[s];o||(o=Object.keys(r)),n.sort&&o.sort(n.sort);for(var u=Hr(),y=0;y<o.length;++y){var d=o[y];n.skipNulls&&r[d]===null||Wr(a,Mo(r[d],d,c,n.strictNullHandling,n.skipNulls,n.encode?n.encoder:null,n.filter,n.sort,n.allowDots,n.serializeDate,n.format,n.formatter,n.encodeValuesOnly,n.charset,u))}var h=a.join(n.delimiter),v=n.addQueryPrefix===!0?"?":"";return n.charsetSentinel&&(n.charset==="iso-8859-1"?v+="utf8=%26%2310003%3B&":v+="utf8=%E2%9C%93&"),h.length>0?v+h:""},_e=jr,Gt=Object.prototype.hasOwnProperty,qo=Array.isArray,L={allowDots:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decoder:_e.decode,delimiter:"&",depth:5,ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictNullHandling:!1},jo=function(e){return e.replace(/&#(\d+);/g,function(t,r){return String.fromCharCode(parseInt(r,10))})},zr=function(e,t){return e&&typeof e=="string"&&t.comma&&e.indexOf(",")>-1?e.split(","):e},Ho="utf8=%26%2310003%3B",Go="utf8=%E2%9C%93",Wo=function(t,r){var n={},o=r.ignoreQueryPrefix?t.replace(/^\?/,""):t,i=r.parameterLimit===1/0?void 0:r.parameterLimit,a=o.split(r.delimiter,i),s=-1,c,u=r.charset;if(r.charsetSentinel)for(c=0;c<a.length;++c)a[c].indexOf("utf8=")===0&&(a[c]===Go?u="utf-8":a[c]===Ho&&(u="iso-8859-1"),s=c,c=a.length);for(c=0;c<a.length;++c)if(c!==s){var y=a[c],d=y.indexOf("]="),h=d===-1?y.indexOf("="):d+1,v,g;h===-1?(v=r.decoder(y,L.decoder,u,"key"),g=r.strictNullHandling?null:""):(v=r.decoder(y.slice(0,h),L.decoder,u,"key"),g=_e.maybeMap(zr(y.slice(h+1),r),function(_){return r.decoder(_,L.decoder,u,"value")})),g&&r.interpretNumericEntities&&u==="iso-8859-1"&&(g=jo(g)),y.indexOf("[]=")>-1&&(g=qo(g)?[g]:g),Gt.call(n,v)?n[v]=_e.combine(n[v],g):n[v]=g}return n},Ko=function(e,t,r,n){for(var o=n?t:zr(t,r),i=e.length-1;i>=0;--i){var a,s=e[i];if(s==="[]"&&r.parseArrays)a=[].concat(o);else{a=r.plainObjects?Object.create(null):{};var c=s.charAt(0)==="["&&s.charAt(s.length-1)==="]"?s.slice(1,-1):s,u=parseInt(c,10);!r.parseArrays&&c===""?a={0:o}:!isNaN(u)&&s!==c&&String(u)===c&&u>=0&&r.parseArrays&&u<=r.arrayLimit?(a=[],a[u]=o):c!=="__proto__"&&(a[c]=o)}o=a}return o},zo=function(t,r,n,o){if(!!t){var i=n.allowDots?t.replace(/\.([^.[]+)/g,"[$1]"):t,a=/(\[[^[\]]*])/,s=/(\[[^[\]]*])/g,c=n.depth>0&&a.exec(i),u=c?i.slice(0,c.index):i,y=[];if(u){if(!n.plainObjects&&Gt.call(Object.prototype,u)&&!n.allowPrototypes)return;y.push(u)}for(var d=0;n.depth>0&&(c=s.exec(i))!==null&&d<n.depth;){if(d+=1,!n.plainObjects&&Gt.call(Object.prototype,c[1].slice(1,-1))&&!n.allowPrototypes)return;y.push(c[1])}return c&&y.push("["+i.slice(c.index)+"]"),Ko(y,r,n,o)}},Vo=function(t){if(!t)return L;if(t.decoder!==null&&t.decoder!==void 0&&typeof t.decoder!="function")throw new TypeError("Decoder has to be a function.");if(typeof t.charset!="undefined"&&t.charset!=="utf-8"&&t.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var r=typeof t.charset=="undefined"?L.charset:t.charset;return{allowDots:typeof t.allowDots=="undefined"?L.allowDots:!!t.allowDots,allowPrototypes:typeof t.allowPrototypes=="boolean"?t.allowPrototypes:L.allowPrototypes,allowSparse:typeof t.allowSparse=="boolean"?t.allowSparse:L.allowSparse,arrayLimit:typeof t.arrayLimit=="number"?t.arrayLimit:L.arrayLimit,charset:r,charsetSentinel:typeof t.charsetSentinel=="boolean"?t.charsetSentinel:L.charsetSentinel,comma:typeof t.comma=="boolean"?t.comma:L.comma,decoder:typeof t.decoder=="function"?t.decoder:L.decoder,delimiter:typeof t.delimiter=="string"||_e.isRegExp(t.delimiter)?t.delimiter:L.delimiter,depth:typeof t.depth=="number"||t.depth===!1?+t.depth:L.depth,ignoreQueryPrefix:t.ignoreQueryPrefix===!0,interpretNumericEntities:typeof t.interpretNumericEntities=="boolean"?t.interpretNumericEntities:L.interpretNumericEntities,parameterLimit:typeof t.parameterLimit=="number"?t.parameterLimit:L.parameterLimit,parseArrays:t.parseArrays!==!1,plainObjects:typeof t.plainObjects=="boolean"?t.plainObjects:L.plainObjects,strictNullHandling:typeof t.strictNullHandling=="boolean"?t.strictNullHandling:L.strictNullHandling}},Qo=function(e,t){var r=Vo(t);if(e===""||e===null||typeof e=="undefined")return r.plainObjects?Object.create(null):{};for(var n=typeof e=="string"?Wo(e,r):e,o=r.plainObjects?Object.create(null):{},i=Object.keys(n),a=0;a<i.length;++a){var s=i[a],c=zo(s,n[s],r,typeof e=="string");o=_e.merge(o,c,r)}return r.allowSparse===!0?o:_e.compact(o)},Jo=Bo,Xo=Qo,Yo=Bt,Zo={formats:Yo,parse:Xo,stringify:Jo},Ye={};(function(e){function t(i){return t=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(a){return typeof a}:function(a){return a&&typeof Symbol=="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},t(i)}function r(i,a){var s=typeof Symbol!="undefined"&&i[Symbol.iterator]||i["@@iterator"];if(!s){if(Array.isArray(i)||(s=n(i))||a&&i&&typeof i.length=="number"){s&&(i=s);var c=0,u=function(){};return{s:u,n:function(){return c>=i.length?{done:!0}:{done:!1,value:i[c++]}},e:function(g){throw g},f:u}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var y=!0,d=!1,h;return{s:function(){s=s.call(i)},n:function(){var g=s.next();return y=g.done,g},e:function(g){d=!0,h=g},f:function(){try{!y&&s.return!=null&&s.return()}finally{if(d)throw h}}}}function n(i,a){if(!!i){if(typeof i=="string")return o(i,a);var s=Object.prototype.toString.call(i).slice(8,-1);if(s==="Object"&&i.constructor&&(s=i.constructor.name),s==="Map"||s==="Set")return Array.from(i);if(s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return o(i,a)}}function o(i,a){(a==null||a>i.length)&&(a=i.length);for(var s=0,c=new Array(a);s<a;s++)c[s]=i[s];return c}e.type=function(i){return i.split(/ *; */).shift()},e.params=function(i){var a={},s=r(i.split(/ *; */)),c;try{for(s.s();!(c=s.n()).done;){var u=c.value,y=u.split(/ *= */),d=y.shift(),h=y.shift();d&&h&&(a[d]=h)}}catch(v){s.e(v)}finally{s.f()}return a},e.parseLinks=function(i){var a={},s=r(i.split(/ *, */)),c;try{for(s.s();!(c=s.n()).done;){var u=c.value,y=u.split(/ *; */),d=y[0].slice(1,-1),h=y[1].split(/ *= */)[1].slice(1,-1);a[h]=d}}catch(v){s.e(v)}finally{s.f()}return a},e.cleanHeader=function(i,a){return delete i["content-type"],delete i["content-length"],delete i["transfer-encoding"],delete i.host,a&&(delete i.authorization,delete i.cookie),i},e.isObject=function(i){return i!==null&&t(i)==="object"},e.hasOwn=Object.hasOwn||function(i,a){if(i==null)throw new TypeError("Cannot convert undefined or null to object");return Object.prototype.hasOwnProperty.call(new Object(i),a)},e.mixin=function(i,a){for(var s in a)e.hasOwn(a,s)&&(i[s]=a[s])}})(Ye);function Wt(e){return Wt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Wt(e)}var Kt=Rr,Vr=Ye,Ze=Vr.isObject,Ne=Vr.hasOwn,ea=O;function O(){}O.prototype.clearTimeout=function(){return clearTimeout(this._timer),clearTimeout(this._responseTimeoutTimer),clearTimeout(this._uploadTimeoutTimer),delete this._timer,delete this._responseTimeoutTimer,delete this._uploadTimeoutTimer,this},O.prototype.parse=function(e){return this._parser=e,this},O.prototype.responseType=function(e){return this._responseType=e,this},O.prototype.serialize=function(e){return this._serializer=e,this},O.prototype.timeout=function(e){if(!e||Wt(e)!=="object")return this._timeout=e,this._responseTimeout=0,this._uploadTimeout=0,this;for(var t in e)if(Ne(e,t))switch(t){case"deadline":this._timeout=e.deadline;break;case"response":this._responseTimeout=e.response;break;case"upload":this._uploadTimeout=e.upload;break;default:console.warn("Unknown timeout option",t)}return this},O.prototype.retry=function(e,t){return(arguments.length===0||e===!0)&&(e=1),e<=0&&(e=0),this._maxRetries=e,this._retries=0,this._retryCallback=t,this};var ta=new Set(["ETIMEDOUT","ECONNRESET","EADDRINUSE","ECONNREFUSED","EPIPE","ENOTFOUND","ENETUNREACH","EAI_AGAIN"]),ra=new Set([408,413,429,500,502,503,504,521,522,524]);O.prototype._shouldRetry=function(e,t){if(!this._maxRetries||this._retries++>=this._maxRetries)return!1;if(this._retryCallback)try{var r=this._retryCallback(e,t);if(r===!0)return!0;if(r===!1)return!1}catch(n){console.error(n)}return!!(t&&t.status&&ra.has(t.status)||e&&(e.code&&ta.has(e.code)||e.timeout&&e.code==="ECONNABORTED"||e.crossDomain))},O.prototype._retry=function(){return this.clearTimeout(),this.req&&(this.req=null,this.req=this.request()),this._aborted=!1,this.timedout=!1,this.timedoutError=null,this._end()},O.prototype.then=function(e,t){var r=this;if(!this._fullfilledPromise){var n=this;this._endCalled&&console.warn("Warning: superagent request was sent twice, because both .end() and .then() were called. Never call .end() if you use promises"),this._fullfilledPromise=new Promise(function(o,i){n.on("abort",function(){if(!(r._maxRetries&&r._maxRetries>r._retries)){if(r.timedout&&r.timedoutError){i(r.timedoutError);return}var a=new Error("Aborted");a.code="ABORTED",a.status=r.status,a.method=r.method,a.url=r.url,i(a)}}),n.end(function(a,s){a?i(a):o(s)})})}return this._fullfilledPromise.then(e,t)},O.prototype.catch=function(e){return this.then(void 0,e)},O.prototype.use=function(e){return e(this),this},O.prototype.ok=function(e){if(typeof e!="function")throw new Error("Callback required");return this._okCallback=e,this},O.prototype._isResponseOK=function(e){return e?this._okCallback?this._okCallback(e):e.status>=200&&e.status<300:!1},O.prototype.get=function(e){return this._header[e.toLowerCase()]},O.prototype.getHeader=O.prototype.get,O.prototype.set=function(e,t){if(Ze(e)){for(var r in e)Ne(e,r)&&this.set(r,e[r]);return this}return this._header[e.toLowerCase()]=t,this.header[e]=t,this},O.prototype.unset=function(e){return delete this._header[e.toLowerCase()],delete this.header[e],this},O.prototype.field=function(e,t,r){if(e==null)throw new Error(".field(name, val) name can not be empty");if(this._data)throw new Error(".field() can't be used if .send() is used. Please use only .send() or only .field() & .attach()");if(Ze(e)){for(var n in e)Ne(e,n)&&this.field(n,e[n]);return this}if(Array.isArray(t)){for(var o in t)Ne(t,o)&&this.field(e,t[o]);return this}if(t==null)throw new Error(".field(name, val) val can not be empty");return typeof t=="boolean"&&(t=String(t)),this._getFormData().append(e,t,r),this},O.prototype.abort=function(){if(this._aborted)return this;if(this._aborted=!0,this.xhr&&this.xhr.abort(),this.req){if(Kt.gte(process.version,"v13.0.0")&&Kt.lt(process.version,"v14.0.0"))throw new Error("Superagent does not work in v13 properly with abort() due to Node.js core changes");Kt.gte(process.version,"v14.0.0")&&(this.req.destroyed=!0),this.req.abort()}return this.clearTimeout(),this.emit("abort"),this},O.prototype._auth=function(e,t,r,n){switch(r.type){case"basic":this.set("Authorization","Basic ".concat(n("".concat(e,":").concat(t))));break;case"auto":this.username=e,this.password=t;break;case"bearer":this.set("Authorization","Bearer ".concat(e));break}return this},O.prototype.withCredentials=function(e){return e===void 0&&(e=!0),this._withCredentials=e,this},O.prototype.redirects=function(e){return this._maxRedirects=e,this},O.prototype.maxResponseSize=function(e){if(typeof e!="number")throw new TypeError("Invalid argument");return this._maxResponseSize=e,this},O.prototype.toJSON=function(){return{method:this.method,url:this.url,data:this._data,headers:this._header}},O.prototype.send=function(e){var t=Ze(e),r=this._header["content-type"];if(this._formData)throw new Error(".send() can't be used if .attach() or .field() is used. Please use only .send() or only .field() & .attach()");if(t&&!this._data)Array.isArray(e)?this._data=[]:this._isHost(e)||(this._data={});else if(e&&this._data&&this._isHost(this._data))throw new Error("Can't merge these send calls");if(t&&Ze(this._data))for(var n in e)Ne(e,n)&&(this._data[n]=e[n]);else typeof e=="string"?(r||this.type("form"),r=this._header["content-type"],r&&(r=r.toLowerCase().trim()),r==="application/x-www-form-urlencoded"?this._data=this._data?"".concat(this._data,"&").concat(e):e:this._data=(this._data||"")+e):this._data=e;return!t||this._isHost(e)?this:(r||this.type("json"),this)},O.prototype.sortQuery=function(e){return this._sort=typeof e=="undefined"?!0:e,this},O.prototype._finalizeQueryString=function(){var e=this._query.join("&");if(e&&(this.url+=(this.url.includes("?")?"&":"?")+e),this._query.length=0,this._sort){var t=this.url.indexOf("?");if(t>=0){var r=this.url.slice(t+1).split("&");typeof this._sort=="function"?r.sort(this._sort):r.sort(),this.url=this.url.slice(0,t)+"?"+r.join("&")}}},O.prototype._appendQueryString=function(){console.warn("Unsupported")},O.prototype._timeoutError=function(e,t,r){if(!this._aborted){var n=new Error("".concat(e+t,"ms exceeded"));n.timeout=t,n.code="ECONNABORTED",n.errno=r,this.timedout=!0,this.timedoutError=n,this.abort(),this.callback(n)}},O.prototype._setTimeouts=function(){var e=this;this._timeout&&!this._timer&&(this._timer=setTimeout(function(){e._timeoutError("Timeout of ",e._timeout,"ETIME")},this._timeout)),this._responseTimeout&&!this._responseTimeoutTimer&&(this._responseTimeoutTimer=setTimeout(function(){e._timeoutError("Response timeout of ",e._responseTimeout,"ETIMEDOUT")},this._responseTimeout))};var zt=Ye,na=et;function et(){}et.prototype.get=function(e){return this.header[e.toLowerCase()]},et.prototype._setHeaderProperties=function(e){var t=e["content-type"]||"";this.type=zt.type(t);var r=zt.params(t);for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(this[n]=r[n]);this.links={};try{e.link&&(this.links=zt.parseLinks(e.link))}catch{}},et.prototype._setStatusProperties=function(e){var t=Math.trunc(e/100);this.statusCode=e,this.status=this.statusCode,this.statusType=t,this.info=t===1,this.ok=t===2,this.redirect=t===3,this.clientError=t===4,this.serverError=t===5,this.error=t===4||t===5?this.toError():!1,this.created=e===201,this.accepted=e===202,this.noContent=e===204,this.badRequest=e===400,this.unauthorized=e===401,this.notAcceptable=e===406,this.forbidden=e===403,this.notFound=e===404,this.unprocessableEntity=e===422};function ia(e){return sa(e)||aa(e)||Qr(e)||oa()}function oa(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function aa(e){if(typeof Symbol!="undefined"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function sa(e){if(Array.isArray(e))return Vt(e)}function ua(e,t){var r=typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=Qr(e))||t&&e&&typeof e.length=="number"){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(u){throw u},f:o}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var i=!0,a=!1,s;return{s:function(){r=r.call(e)},n:function(){var u=r.next();return i=u.done,u},e:function(u){a=!0,s=u},f:function(){try{!i&&r.return!=null&&r.return()}finally{if(a)throw s}}}}function Qr(e,t){if(!!e){if(typeof e=="string")return Vt(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Vt(e,t)}}function Vt(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Qt(){this._defaults=[]}for(var ca=function(){var t=Jr[Jt];Qt.prototype[t]=function(){for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return this._defaults.push({fn:t,args:n}),this}},Jt=0,Jr=["use","on","once","set","query","type","accept","auth","withCredentials","sortQuery","retry","ok","redirects","timeout","buffer","serialize","parse","ca","key","pfx","cert","disableTLSCerts"];Jt<Jr.length;Jt++)ca();Qt.prototype._setDefaults=function(e){var t=ua(this._defaults),r;try{for(t.s();!(r=t.n()).done;){var n=r.value;e[n.fn].apply(e,ia(n.args))}}catch(o){t.e(o)}finally{t.f()}};var la=Qt;(function(e,t){function r(l){return r=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(f){return typeof f}:function(f){return f&&typeof Symbol=="function"&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f},r(l)}function n(l,f){var p=typeof Symbol!="undefined"&&l[Symbol.iterator]||l["@@iterator"];if(!p){if(Array.isArray(l)||(p=o(l))||f&&l&&typeof l.length=="number"){p&&(l=p);var m=0,w=function(){};return{s:w,n:function(){return m>=l.length?{done:!0}:{done:!1,value:l[m++]}},e:function($){throw $},f:w}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var R=!0,x=!1,k;return{s:function(){p=p.call(l)},n:function(){var $=p.next();return R=$.done,$},e:function($){x=!0,k=$},f:function(){try{!R&&p.return!=null&&p.return()}finally{if(x)throw k}}}}function o(l,f){if(!!l){if(typeof l=="string")return i(l,f);var p=Object.prototype.toString.call(l).slice(8,-1);if(p==="Object"&&l.constructor&&(p=l.constructor.name),p==="Map"||p==="Set")return Array.from(l);if(p==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(p))return i(l,f)}}function i(l,f){(f==null||f>l.length)&&(f=l.length);for(var p=0,m=new Array(f);p<f;p++)m[p]=l[p];return m}var a;typeof window!="undefined"?a=window:typeof self=="undefined"?(console.warn("Using browser-only version of superagent in non-browser environment"),a=void 0):a=self;var s=dr.exports,c=oi,u=Zo,y=ea,d=Ye,h=d.isObject,v=d.mixin,g=d.hasOwn,_=na,E=la;function M(){}e.exports=function(l,f){return typeof f=="function"?new t.Request("GET",l).end(f):arguments.length===1?new t.Request("GET",l):new t.Request(l,f)},t=e.exports;var b=t;t.Request=T,b.getXHR=function(){if(a.XMLHttpRequest&&(!a.location||a.location.protocol!=="file:"||!a.ActiveXObject))return new XMLHttpRequest;try{return new ActiveXObject("Microsoft.XMLHTTP")}catch{}try{return new ActiveXObject("Msxml2.XMLHTTP.6.0")}catch{}try{return new ActiveXObject("Msxml2.XMLHTTP.3.0")}catch{}try{return new ActiveXObject("Msxml2.XMLHTTP")}catch{}throw new Error("Browser-only version of superagent could not find XHR")};var W="".trim?function(l){return l.trim()}:function(l){return l.replace(/(^\s*|\s*$)/g,"")};function U(l){if(!h(l))return l;var f=[];for(var p in l)g(l,p)&&H(f,p,l[p]);return f.join("&")}function H(l,f,p){if(p!==void 0){if(p===null){l.push(encodeURI(f));return}if(Array.isArray(p)){var m=n(p),w;try{for(m.s();!(w=m.n()).done;){var R=w.value;H(l,f,R)}}catch(k){m.e(k)}finally{m.f()}}else if(h(p))for(var x in p)g(p,x)&&H(l,"".concat(f,"[").concat(x,"]"),p[x]);else l.push(encodeURI(f)+"="+encodeURIComponent(p))}}b.serializeObject=U;function re(l){for(var f={},p=l.split("&"),m,w,R=0,x=p.length;R<x;++R)m=p[R],w=m.indexOf("="),w===-1?f[decodeURIComponent(m)]="":f[decodeURIComponent(m.slice(0,w))]=decodeURIComponent(m.slice(w+1));return f}b.parseString=re,b.types={html:"text/html",json:"application/json",xml:"text/xml",urlencoded:"application/x-www-form-urlencoded",form:"application/x-www-form-urlencoded","form-data":"application/x-www-form-urlencoded"},b.serialize={"application/x-www-form-urlencoded":u.stringify,"application/json":c},b.parse={"application/x-www-form-urlencoded":re,"application/json":JSON.parse};function ne(l){for(var f=l.split(/\r?\n/),p={},m,w,R,x,k=0,B=f.length;k<B;++k)w=f[k],m=w.indexOf(":"),m!==-1&&(R=w.slice(0,m).toLowerCase(),x=W(w.slice(m+1)),p[R]=x);return p}function Q(l){return/[/+]json($|[^-\w])/i.test(l)}function q(l){this.req=l,this.xhr=this.req.xhr,this.text=this.req.method!=="HEAD"&&(this.xhr.responseType===""||this.xhr.responseType==="text")||typeof this.xhr.responseType=="undefined"?this.xhr.responseText:null,this.statusText=this.req.xhr.statusText;var f=this.xhr.status;f===1223&&(f=204),this._setStatusProperties(f),this.headers=ne(this.xhr.getAllResponseHeaders()),this.header=this.headers,this.header["content-type"]=this.xhr.getResponseHeader("content-type"),this._setHeaderProperties(this.header),this.text===null&&l._responseType?this.body=this.xhr.response:this.body=this.req.method==="HEAD"?null:this._parseBody(this.text?this.text:this.xhr.response)}v(q.prototype,_.prototype),q.prototype._parseBody=function(l){var f=b.parse[this.type];return this.req._parser?this.req._parser(this,l):(!f&&Q(this.type)&&(f=b.parse["application/json"]),f&&l&&(l.length>0||l instanceof Object)?f(l):null)},q.prototype.toError=function(){var l=this.req,f=l.method,p=l.url,m="cannot ".concat(f," ").concat(p," (").concat(this.status,")"),w=new Error(m);return w.status=this.status,w.method=f,w.url=p,w},b.Response=q;function T(l,f){var p=this;this._query=this._query||[],this.method=l,this.url=f,this.header={},this._header={},this.on("end",function(){var m=null,w=null;try{w=new q(p)}catch(x){return m=new Error("Parser is unable to parse the response"),m.parse=!0,m.original=x,p.xhr?(m.rawResponse=typeof p.xhr.responseType=="undefined"?p.xhr.responseText:p.xhr.response,m.status=p.xhr.status?p.xhr.status:null,m.statusCode=m.status):(m.rawResponse=null,m.status=null),p.callback(m)}p.emit("response",w);var R;try{p._isResponseOK(w)||(R=new Error(w.statusText||w.text||"Unsuccessful HTTP response"))}catch(x){R=x}R?(R.original=m,R.response=w,R.status=w.status,p.callback(R,w)):p.callback(null,w)})}s(T.prototype),v(T.prototype,y.prototype),T.prototype.type=function(l){return this.set("Content-Type",b.types[l]||l),this},T.prototype.accept=function(l){return this.set("Accept",b.types[l]||l),this},T.prototype.auth=function(l,f,p){arguments.length===1&&(f=""),r(f)==="object"&&f!==null&&(p=f,f=""),p||(p={type:typeof btoa=="function"?"basic":"auto"});var m=function(R){if(typeof btoa=="function")return btoa(R);throw new Error("Cannot use basic auth, btoa is not a function")};return this._auth(l,f,p,m)},T.prototype.query=function(l){return typeof l!="string"&&(l=U(l)),l&&this._query.push(l),this},T.prototype.attach=function(l,f,p){if(f){if(this._data)throw new Error("superagent can't mix .send() and .attach()");this._getFormData().append(l,f,p||f.name)}return this},T.prototype._getFormData=function(){return this._formData||(this._formData=new a.FormData),this._formData},T.prototype.callback=function(l,f){if(this._shouldRetry(l,f))return this._retry();var p=this._callback;this.clearTimeout(),l&&(this._maxRetries&&(l.retries=this._retries-1),this.emit("error",l)),p(l,f)},T.prototype.crossDomainError=function(){var l=new Error(`Request has been terminated
Possible causes: the network is offline, Origin is not allowed by Access-Control-Allow-Origin, the page is being unloaded, etc.`);l.crossDomain=!0,l.status=this.status,l.method=this.method,l.url=this.url,this.callback(l)},T.prototype.agent=function(){return console.warn("This is not supported in browser version of superagent"),this},T.prototype.ca=T.prototype.agent,T.prototype.buffer=T.prototype.ca,T.prototype.write=function(){throw new Error("Streaming is not supported in browser version of superagent")},T.prototype.pipe=T.prototype.write,T.prototype._isHost=function(l){return l&&r(l)==="object"&&!Array.isArray(l)&&Object.prototype.toString.call(l)!=="[object Object]"},T.prototype.end=function(l){this._endCalled&&console.warn("Warning: .end() was called twice. This is not supported in superagent"),this._endCalled=!0,this._callback=l||M,this._finalizeQueryString(),this._end()},T.prototype._setUploadTimeout=function(){var l=this;this._uploadTimeout&&!this._uploadTimeoutTimer&&(this._uploadTimeoutTimer=setTimeout(function(){l._timeoutError("Upload timeout of ",l._uploadTimeout,"ETIMEDOUT")},this._uploadTimeout))},T.prototype._end=function(){if(this._aborted)return this.callback(new Error("The request has been aborted even before .end() was called"));var l=this;this.xhr=b.getXHR();var f=this.xhr,p=this._formData||this._data;this._setTimeouts(),f.addEventListener("readystatechange",function(){var k=f.readyState;if(k>=2&&l._responseTimeoutTimer&&clearTimeout(l._responseTimeoutTimer),k===4){var B;try{B=f.status}catch{B=0}if(!B)return l.timedout||l._aborted?void 0:l.crossDomainError();l.emit("end")}});var m=function(B,$){$.total>0&&($.percent=$.loaded/$.total*100,$.percent===100&&clearTimeout(l._uploadTimeoutTimer)),$.direction=B,l.emit("progress",$)};if(this.hasListeners("progress"))try{f.addEventListener("progress",m.bind(null,"download")),f.upload&&f.upload.addEventListener("progress",m.bind(null,"upload"))}catch{}f.upload&&this._setUploadTimeout();try{this.username&&this.password?f.open(this.method,this.url,!0,this.username,this.password):f.open(this.method,this.url,!0)}catch(k){return this.callback(k)}if(this._withCredentials&&(f.withCredentials=!0),!this._formData&&this.method!=="GET"&&this.method!=="HEAD"&&typeof p!="string"&&!this._isHost(p)){var w=this._header["content-type"],R=this._serializer||b.serialize[w?w.split(";")[0]:""];!R&&Q(w)&&(R=b.serialize["application/json"]),R&&(p=R(p))}for(var x in this.header)this.header[x]!==null&&g(this.header,x)&&f.setRequestHeader(x,this.header[x]);this._responseType&&(f.responseType=this._responseType),this.emit("request",this),f.send(typeof p=="undefined"?null:p)},b.agent=function(){return new E};for(var Oe=function(){var f=C[K];E.prototype[f.toLowerCase()]=function(p,m){var w=new b.Request(f,p);return this._setDefaults(w),m&&w.end(m),w}},K=0,C=["GET","POST","OPTIONS","PATCH","PUT","DELETE"];K<C.length;K++)Oe();E.prototype.del=E.prototype.delete,b.get=function(l,f,p){var m=b("GET",l);return typeof f=="function"&&(p=f,f=null),f&&m.query(f),p&&m.end(p),m},b.head=function(l,f,p){var m=b("HEAD",l);return typeof f=="function"&&(p=f,f=null),f&&m.query(f),p&&m.end(p),m},b.options=function(l,f,p){var m=b("OPTIONS",l);return typeof f=="function"&&(p=f,f=null),f&&m.send(f),p&&m.end(p),m};function J(l,f,p){var m=b("DELETE",l);return typeof f=="function"&&(p=f,f=null),f&&m.send(f),p&&m.end(p),m}b.del=J,b.delete=J,b.patch=function(l,f,p){var m=b("PATCH",l);return typeof f=="function"&&(p=f,f=null),f&&m.send(f),p&&m.end(p),m},b.post=function(l,f,p){var m=b("POST",l);return typeof f=="function"&&(p=f,f=null),f&&m.send(f),p&&m.end(p),m},b.put=function(l,f,p){var m=b("PUT",l);return typeof f=="function"&&(p=f,f=null),f&&m.send(f),p&&m.end(p),m}})(je,je.exports);function Xt(e){if(!(e instanceof Element))return"";let t=[];for(;e.nodeType===Node.ELEMENT_NODE;){let r=e.nodeName.toLowerCase();if(e.id)r+="#"+e.id;else{let n=e,o=1;for(;(n=n.previousElementSibling)&&o++;);r+=":nth-child("+o+")"}t.unshift(r),e=e.parentNode}return t.join(" > ")}function fa(e){return!e.target||e.target.match(/^_(self|parent|top)$/i)}function G(...e){}function pa(e,t){return e.length<=t?e:e.substring(0,t)+"..."}function ha(e){const n=e.split("?")[0].split("#")[0].split("/");return n[n.length-1]}function Ce(e,t){if(e.length<=t)return e;const r=Math.floor(t/2);return e.substring(0,r)+"..."+e.substring(e.length-(t-r))}function tt(e){return e.tagName.toLowerCase()=="button"||e.getAttribute("role")=="button"}function Yt(e){return e.tagName.toLowerCase()=="img"}const ya=["input","textarea","select"];function Zt(e){return ya.indexOf(e.tagName.toLowerCase())!=-1}function De(e){return e instanceof HTMLAnchorElement?(e.href||"")[0]=="#":!1}function rt(e){return!(e.tagName.toLowerCase()!="a"||De(e))}const da=["code","pre"];function va(e){return da.indexOf(e.tagName.toLowerCase())!=-1}function ma(e){if(e instanceof HTMLElement&&tt(e))return e;for(let t=e.parentElement;t!=null;t=t.parentElement)if(tt(t))return t;return null}function ga(e){if(e instanceof HTMLElement&&De(e))return e;for(let t=e.parentElement;t!=null;t=t.parentElement)if(De(t))return t;return null}function ba(e){if(e instanceof HTMLElement&&rt(e))return e;for(let t=e.parentElement;t!=null;t=t.parentElement)if(rt(t))return t;return null}function Xr(e){return e instanceof HTMLElement?e:e.parentElement}const ce=e=>Ce(e,50);class wa{constructor(){A(this,"description");A(this,"innerText");A(this,"gaTag");A(this,"labelFromElem")}withText(t){return t&&(this.innerText=ce(t)),this}withDescription(t){return t&&(this.description=ce(t)),this}withGaTag(t){return t&&(this.gaTag=ce(t)),this}withTextFromLabelElems(t){const r=Array.from(t).map(n=>ce(n.innerText.trim())).filter(n=>n!="").sort((n,o)=>o.length-n.length)[0];return r&&(this.labelFromElem=r),this}buildText(){const t=["Button"],r=[];return this.description?t.splice(0,0,`"${this.description}"`):this.gaTag&&r.push(`GATag: ${this.gaTag}`),this.innerText?r.push(`Text: ${this.innerText}`):this.labelFromElem&&r.push(`Label: ${this.labelFromElem}`),[t.join(" "),r.join(", ")].filter(n=>!!n).join(" with ")}}class Ea{constructor(){A(this,"desc");A(this,"fileName")}withDescription(t){return t&&(this.desc=ce(t)),this}withSrc(t){if(t){const r=ha(t);r&&(this.fileName=r)}return this}buildText(){return this.desc?`Image of "${this.desc}"`:this.fileName?`Image, file name ${this.fileName}`:"Image"}}class er{constructor(t){A(this,"elementType");A(this,"type","text");A(this,"explicitLabel");A(this,"implicitLabel");A(this,"name");this.elementType=t}withType(t){return this.type=t,this}withExplicitLabel(t){return t&&(this.explicitLabel=ce(t)),this}withLabelElems(t){const r=Array.from(t).map(n=>Ce(n.innerText.trim(),50)).filter(n=>n!="").sort((n,o)=>o.length-n.length)[0];return r&&(this.implicitLabel=r),this}withName(t){return t&&(this.name=t),this}buildText(){const t=[this.elementType],r=[`type=${this.type}`];return this.explicitLabel&&t.splice(0,0,`"${this.explicitLabel}"`),this.implicitLabel?r.push(`label=${this.implicitLabel}`):this.name&&r.push(`name=${this.name}`),[t.join(" "),r.join(", ")].join(" with ")}}class Sa{constructor(){A(this,"innerText");A(this,"name")}withInnerText(t){return t&&(this.innerText=ce(t)),this}withAnchorName(t){return this.name=t,this}buildText(){const t=[`Anchor link to ${this.name}`];return this.innerText&&t.push(`text: ${this.innerText}`),t.join(" with ")}}function _a(e){var r;if(tt(e)){const n=e instanceof HTMLButtonElement?Array.from(e.labels||[]):[];return new wa().withText(e.innerText).withTextFromLabelElems(n).withDescription(e.ariaLabel||e.title||e.dataset.title).withGaTag((r=e.dataset)==null?void 0:r.gaClick).buildText()}if(Yt(e)){const n=e;return new Ea().withDescription(n.alt||n.title).withSrc(n.src).buildText()}if(Zt(e)){if(e instanceof HTMLInputElement){const n=Array.from(e.labels||[]);return new er("Input").withName(e.name).withType(e.type).withExplicitLabel(e.ariaLabel||e.title||e.placeholder).withLabelElems(n).buildText()}else if(e instanceof HTMLTextAreaElement){const n=Array.from(e.labels||[]);return new er("Text Area").withName(e.name).withType(e.type).withExplicitLabel(e.ariaLabel||e.title||e.placeholder).withLabelElems(n).buildText()}else if(e instanceof HTMLSelectElement){const n=Array.from(e.labels||[]);return new er("Select").withName(e.name).withType(e.type).withExplicitLabel(e.ariaLabel||e.title).withLabelElems(n).buildText()}}if(De(e)){const n=e;return new Sa().withInnerText(n.innerText).withAnchorName(n.href.replace("#","")).buildText()}if(rt(e))return["Link",`text=${Ce(e.innerText.trim(),50)}`,`URL=${pa(e.href||"",60)}`].join(", ");const t=e.ariaLabel||e.title;return t?`${e.tagName} element: ${t}`:`${e.tagName}: ${Ce(e.innerText.trim(),50)}`}function Oa(e){let t="default";return tt(e)?t="button":Yt(e)?t="image":Zt(e)?t="input":De(e)?t="anchor":rt(e)&&(t="link"),t}const Yr=["lanugage-"];function Ta(e){const t=e.split(" ").filter(r=>Yr.some(n=>r.startsWith(n)))[0];if(t==null)return null;for(const r of Yr)if(t.startsWith(r))return t.replace(r,"");throw new Error("bug, should not get here")}function Zr(e){let t=Oa(e);return{class:e.className,ariaLabel:e.ariaLabel||void 0,role:e.getAttribute("role")||void 0,title:e.title||void 0,alt:e.alt||void 0,id:e.id||void 0,name:e.name||void 0,type:e.type||void 0,action:e.action,placeholder:e.placeholder,src:e.src,href:e.href,dataSet:nr({},Aa(e.dataset)),form:e.form&&Zr(e.form),extras:{text:Ra(e),textLen:e.innerText.length,codeLanguage:va(e)&&Ta(e.className)||void 0,category:t}}}function Aa(e){const t={};return Object.entries(e).forEach(([r,n])=>{n&&(t[r]=n)}),t}function Ra(e){if(e.tagName.toLowerCase()=="input"){const t=e;return t.type.toLowerCase()=="submit"?t.value:""}else return e.innerText.trim()}function le(e){return{type:e.tagName.toLowerCase()||"<unknown>",css_path:Xt(e),description:_a(e),meta:Zr(e)}}function Pa(e){const t=ma(e);if(t)return t;if(e instanceof HTMLElement&&(Zt(e)||Yt(e)))return e;const r=ga(e);return r||null}const xa=()=>{const e=Math.round(document.documentElement.scrollHeight),t=Math.round((window.pageYOffset||document.documentElement.scrollTop)+window.innerHeight);let r=t/(e||1)*100;return r=Math.min(100,Math.max(Math.round(r),1)),{height:e,pos:t,percentage:r,ts:new Date}};class Ia{constructor(t,r,n){A(this,"sessionId");A(this,"writeKey");A(this,"lastRecordedPage");A(this,"timeRecorder");A(this,"scrollSettle$",new vt);A(this,"scrollStart$",new vt);A(this,"accElemEvents");A(this,"accSelectionEvents");A(this,"accLinkClicks");A(this,"accSettleEvents");A(this,"detectedEmails",{});this.endpoint=t,this.apiKey=r,this.featureFlags=n,this.timeRecorder=new yr,this.accElemEvents=[],this.accSelectionEvents=[],this.accLinkClicks=[],this.accSettleEvents=[],this.detectedEmails={},this.scrollStart$.pipe(ni(this.scrollSettle$),ti(([o,i])=>tn(nr({},i),{duration:new Date().getTime()-i.ts.getTime()})),ri(o=>G(o))).subscribe(o=>this.accSettleEvents.push(o))}onPageView({location:t,referrer:r,visitorId:n}){if(this.flushMetrics(),this.alreadyRecordedPage(t)||this.isDebug())return;this.lastRecordedPage&&this.resetTimeRecorder(),this.lastRecordedPage=t;const o={raw_url:t,api_key:this.apiKey,raw_referrer:r||null,view_width:window.innerWidth,visitor_id:n};this.sendRequest("page_view",o).then(i=>{console.log("Krunch: page view recorded");const{id:a,key:s}=i.body.data;if(!a||!s)throw console.error("no ID or key from backend",{id:a,key:s}),new Error("no ID or key from backend");this.sessionId=a,this.writeKey=s}).catch(i=>{var a;console.error(`Krunch: Error recording page view (${(a=i.status)!=null?a:0}): response`,i.response)})}alreadyRecordedPage(t){return this.lastRecordedPage==t}resetTimeRecorder(){this.timeRecorder=new yr}sendRequest(t,r){return je.exports.post(this.endpoint).query({type:t}).send(r)}flushMetrics(){this.reportBatchEvents()}onBlur(){this.timeRecorder.notifyBlur()}onFocus(){this.timeRecorder.notifyFocus()}reportTimeInPage(){this.sendTimeReport(this.timeRecorder.getActiveTime())}async reportBatchEvents(){if(!this.sessionId||!this.writeKey)return console.warn("report event: session ID or write key not available yet"),null;if(!this.hasEventsToReport())return null;const t=this.createReportEventPayload();return this.logReportEventDebug(),this.clearAccumulatedEvents(),this.sendRequest("batch_events",t).then(r=>null)}logReportEventDebug(){G("report event counts",{elems:this.accElemEvents.length,sels:this.accSelectionEvents.length,links:this.accLinkClicks.length,scrolls:this.accSettleEvents.length})}clearAccumulatedEvents(){this.accElemEvents.length=0,this.accSelectionEvents.length=0,this.accLinkClicks.length=0,this.accSettleEvents.length=0,this.detectedEmails={}}createReportEventPayload(){if(!this.sessionId||!this.writeKey)throw new Error("must called after sessionId and key ready");const t={session_id:this.sessionId,key:this.writeKey,elems:[...this.accElemEvents],sels:[...this.accSelectionEvents],links:[...this.accLinkClicks],scrolls:[...this.accSettleEvents.map(({duration:r,pos:n,percentage:o,ts:i,height:a})=>({dur:r,pct:o,tot:a,ts:i,pos:n}))]};return this.featureFlags.trackEmails&&(t.emails=Object.entries(this.detectedEmails).map(([r,n])=>{const o=document.querySelector(r);return o?{elem:le(o),emails:n}:null}).filter(r=>r!=null),G("detected emails sent",this.detectedEmails)),t}hasEventsToReport(){return this.accLinkClicks.length||this.accElemEvents.length||this.accSelectionEvents.length||this.accSettleEvents.length||Object.keys(this.detectedEmails).length}isDebug(){return!!(window.phantom||window._phantom||window.__nightmare||window.navigator.webdriver||window.Cypress)}handleElementClick(t){let r=t.target;if(!r||!(r instanceof Node))return;const n=Pa(r);if(n){G("elem click",le(n)),this.accElemEvents.push({elem:le(n),ts:new Date});return}const o=ba(r);if(o){G("link click",le(o));const i=t.type=="auxclick"&&t.which==2,a=t.type=="click";if(!(i||a))return;o&&o.href&&o.host&&(this.accLinkClicks.push({elem:le(o),link_url:o.href,ts:new Date}),fa(o)&&(G("link click path before",this.lastRecordedPage),!(t.ctrlKey||t.metaKey||t.shiftKey)&&a&&(G("reporting before leave",this.lastRecordedPage),this.flushMetrics(),setTimeout(()=>{G("waited, now:",{before:this.lastRecordedPage,now:location.href}),this.lastRecordedPage!=o.href&&(location.href=o.href)},150),t.preventDefault())));return}}sendTimeReport(t){if(!this.sessionId||!this.writeKey){console.warn("time report: skipped reporting time in page due to no session ID or key");return}const r={session_id:this.sessionId,key:this.writeKey,active_time:t};je.exports.post(this.endpoint).query({type:"time_report"}).send(r).then(()=>{})}onSelection(t){if(t.isCollapsed||!t.anchorNode||!t.focusNode)return;const r=Xr(t.anchorNode),n=Xr(t.focusNode);if(!r||!n){console.warn("anchor or focus element is null",{anchor:r,focus:n});return}this.accSelectionEvents.push({anchor:le(r),anchor_offset:t.anchorOffset,focus:le(n),focus_offset:t.focusOffset,text:Ce(t.toString()||"",150),ts:new Date})}onScrollStart(){this.scrollStart$.next(null)}onScrollSettle(){this.scrollSettle$.next(xa())}detectAllEmails(){if(!this.featureFlags.trackEmails)return;const t=[...Array.from(document.querySelectorAll("input")),...Array.from(document.querySelectorAll("textarea"))],r={};t.forEach(n=>{const o=Xt(n),i=n.value.match(/\S+@\S+/g)||[];i.length?r[o]=i:delete r[o]}),this.detectedEmails=r}detectElemEmail(t){if(!this.featureFlags.trackEmails)return;const r=t.value.match(/\S+@\S+/g)||[];if(r.length){const n=Xt(t);this.detectedEmails[n]=r}}beforeLeave(){this.flushMetrics()}}const La=2e3;let tr=null;(async function(){const t=new Date;console.log("Krunch snippet: starting"),G("Krunch snippet: Script loaded at",t.getTime(),t.toJSON());const r=window.location,n=window.document,o=n.querySelector('script[data-id][src$="k2.js"][data-api]');if(!o){console.error("script not properly setup, expected <script> with data-api and data-id attributes");return}const i=o.getAttribute("data-id"),a=c(o),s=new Ia(a,i,{trackEmails:!1});(function(){const v=new Date;G("Krunch snippet: Script started click detection took: "+(v.getTime()-t.getTime())+"ms",v.getTime(),v.toJSON()),n.addEventListener("click",s.handleElementClick.bind(s)),n.addEventListener("auxclick",s.handleElementClick.bind(s))})();try{tr=await bn.load({apiKey:"yGmDQPcAUTe5J7S6kNmX"}).then(h=>h.get()).then(h=>h.visitorId),G("Fingerprint OK",tr)}catch{}(function(){n.visibilityState==="visible"&&u(),n.addEventListener("visibilitychange",()=>{n.visibilityState==="visible"&&u()}),window.addEventListener("beforeunload",()=>s.beforeLeave());const v=window.history;if(v.pushState){const g=v.pushState;v.pushState=function(){s.beforeLeave(),g.apply(this,arguments),u()},window.addEventListener("popstate",()=>{s.beforeLeave(),u()})}})(),function(){setInterval(()=>{s.reportBatchEvents()},La)}();function c(h){return h.getAttribute("data-api")||y(h)}function u(){s.onPageView({location:r.href,referrer:n.referrer,visitorId:tr})}function y(h){return new URL(h.src).origin+"/traffic/web/record"}const d=new Date;console.log("Krunch snippet: done in",d.getTime()-t.getTime(),"ms")})()})();
